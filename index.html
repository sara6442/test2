<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù‡Ø§Ù…ÙŠ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
        /* Ø§Ù„Ø«ÙŠÙ… Ø§Ù„ÙØ§ØªØ­ (Ø§Ù„Ø¥ÙØªØ±Ø§Ø¶ÙŠ) */
        --primary: #4361ee; --secondary: #3a0ca3; --accent: #7209b7;
        --success: #4cc9f0; --danger: #f72585; --warning: #f8961e;
        --light: #f8f9fa; --dark: #212529; --gray: #6c757d;
        --bg-color: #f5f7fb; --card-bg: #ffffff; --text-color: #212529;
        --border-color: #dee2e6; --hover-bg: #f8f9fa;
    }
    body { font-family: 'Segoe UI', sans-serif; background: var(--bg-color); min-height: 100vh; transition: all 0.3s; }
    .container { display: flex; min-height: 100vh; direction: rtl; }
    
    /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
    .sidebar { width: 250px; background: linear-gradient(180deg, var(--primary), var(--secondary)); color: white; padding: 20px 0; transition: all 0.3s; }
    .logo { padding: 0 20px 30px; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 20px; }
    .logo h1 { display: flex; align-items: center; gap: 10px; font-size: 1.5rem; }
    .nav-item { display: flex; align-items: center; gap: 15px; padding: 15px; color: rgba(255,255,255,0.9); text-decoration: none; border-radius: 8px; margin: 0 15px 5px; transition: 0.3s; }
    .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }
    .nav-item.active { background: rgba(255,255,255,0.2); color: white; font-weight: bold; }
    .nav-item i { width: 24px; text-align: center; }
    
    /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© Ù…Ø¹ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø«ÙŠÙ… */
    .theme-selector { display: flex; gap: 10px; align-items: center; }
    .theme-btn { width: 24px; height: 24px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.3); cursor: pointer; transition: 0.3s; }
    .theme-btn:hover { transform: scale(1.1); border-color: white; }
    .theme-btn.active { border-color: white; box-shadow: 0 0 0 2px rgba(255,255,255,0.5); }
    .theme-light { background: linear-gradient(135deg, #f8f9fa, #e9ecef); }
    .theme-dark { background: linear-gradient(135deg, #212529, #343a40); }
    .theme-blue { background: linear-gradient(135deg, #4361ee, #3a0ca3); }
    .theme-green { background: linear-gradient(135deg, #38b000, #2d9100); }
    
    /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
    .main-content { flex: 1; margin-right: 250px; padding: 20px; transition: all 0.3s; }
    .main-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 20px; background: var(--card-bg); border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .header-left h2 { color: var(--primary); margin-bottom: 5px; }
    .date-display { color: var(--gray); font-size: 0.9rem; }
    
    /* Ø£Ø²Ø±Ø§Ø± */
    .btn { padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; font-weight: 500; transition: 0.3s; background: var(--primary); color: white; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    .btn-primary { background: var(--primary); }
    .btn-secondary { background: var(--gray); }
    .btn-success { background: var(--success); }
    .btn-danger { background: var(--danger); }
    .btn-warning { background: var(--warning); }
    .btn-info { background: #3a86ff; }
    .btn-light { background: var(--light); color: var(--dark); border: 1px solid var(--border-color); }
    .btn-sm { padding: 6px 12px; font-size: 0.9rem; }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„ÙˆÙ‚Øª */
    .time-navigation { display: flex; gap: 10px; margin-bottom: 20px; padding: 15px; background: var(--card-bg); border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .time-btn { flex: 1; padding: 10px; border: 2px solid var(--border-color); background: var(--card-bg); border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--text-color); transition: 0.3s; }
    .time-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
    .time-btn:hover { border-color: var(--primary); }
    
    /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
    .content-area { background: var(--card-bg); padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .view { display: none; }
    .active-view { display: block; }
    
    /* Ø§Ù„Ù…Ù‡Ø§Ù… */
    .tasks-list { display: flex; flex-direction: column; gap: 10px; }
    .task-item { 
        display: flex; 
        align-items: center; 
        gap: 15px; 
        padding: 15px; 
        background: var(--hover-bg); 
        border-radius: 8px; 
        border-right: 4px solid var(--primary); 
        transition: 0.3s;
        cursor: pointer;
    }
    .task-item:hover { transform: translateX(-5px); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .task-item.completed { opacity: 0.7; border-color: var(--success); }
    .task-item.completed .task-title { text-decoration: line-through; }
    .task-checkbox { width: 20px; height: 20px; cursor: pointer; }
    .task-content { flex: 1; }
    .task-title { font-weight: bold; margin-bottom: 5px; color: var(--text-color); }
    .task-description { color: var(--gray); font-size: 0.9rem; margin-bottom: 10px; }
    .task-meta { display: flex; gap: 15px; font-size: 0.85rem; color: var(--gray); flex-wrap: wrap; }
    .task-actions { display: flex; gap: 5px; }
    
    /* Ø§Ù„ÙØ¦Ø§Øª */
    .category-card { 
        display: flex; 
        align-items: center; 
        gap: 15px; 
        padding: 15px; 
        background: var(--hover-bg); 
        border-radius: 8px; 
        margin-bottom: 15px;
        border-right: 4px solid;
    }
    .category-info { flex: 1; }
    .category-name { font-weight: bold; margin-bottom: 5px; color: var(--text-color); }
    .category-stats { font-size: 0.85rem; color: var(--gray); }
    .category-actions { display: flex; gap: 5px; }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
    .progress-container { 
        width: 100%; 
        height: 8px; 
        background: var(--border-color); 
        border-radius: 4px; 
        overflow: hidden; 
        margin: 10px 0;
    }
    .progress-bar { 
        height: 100%; 
        border-radius: 4px;
        transition: width 0.5s ease;
    }
    
    /* Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ */
    .calendar-view { margin-top: 20px; }
    .calendar-header { 
        display: flex; 
        justify-content: space-between; 
        align-items: center; 
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid var(--border-color);
    }
    .calendar-nav { display: flex; gap: 10px; }
    .calendar-body { min-height: 400px; }
    
    /* Ø¹Ø±Ø¶ ÙŠÙˆÙ…ÙŠ - 24 Ø³Ø§Ø¹Ø© */
    .daily-view { display: flex; flex-direction: column; gap: 1px; background: var(--border-color); border-radius: 8px; overflow: hidden; }
    .time-slot { 
        display: flex; 
        gap: 0; 
        padding: 0;
        background: var(--card-bg);
    }
    .time-label { 
        width: 80px; 
        font-weight: bold; 
        color: var(--dark);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
        border-right: 1px solid var(--border-color);
        background: var(--hover-bg);
    }
    .time-tasks { 
        flex: 1; 
        display: flex; 
        flex-wrap: wrap; 
        gap: 5px; 
        padding: 5px;
        min-height: 60px;
        position: relative;
    }
    .calendar-task { 
        padding: 6px 10px; 
        border-radius: 6px; 
        font-size: 0.8rem;
        color: white;
        cursor: pointer;
        max-width: 200px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        position: relative;
        transition: all 0.3s;
        border: 1px solid rgba(255,255,255,0.2);
    }
    .calendar-task:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); z-index: 10; }
    
    /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ… */
    .task-tooltip {
        position: absolute;
        background: var(--card-bg);
        color: var(--text-color);
        padding: 10px;
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 1000;
        max-width: 300px;
        display: none;
        border: 1px solid var(--border-color);
        font-size: 0.85rem;
    }
    .task-tooltip h4 { margin-bottom: 5px; color: var(--primary); }
    .task-tooltip p { margin-bottom: 5px; color: var(--gray); }
    .task-tooltip .tooltip-meta { display: flex; flex-wrap: wrap; gap: 10px; font-size: 0.8rem; }
    
    /* Ø¹Ø±Ø¶ Ø£Ø³Ø¨ÙˆØ¹ÙŠ */
    .weekly-view { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; }
    .day-column { border: 1px solid var(--border-color); border-radius: 8px; padding: 10px; background: var(--card-bg); }
    .day-header { 
        text-align: center; 
        padding-bottom: 10px; 
        margin-bottom: 10px;
        border-bottom: 1px solid var(--border-color);
        font-weight: bold;
        color: var(--text-color);
    }
    .day-today { background: rgba(67, 97, 238, 0.1); border-color: var(--primary); }
    .day-tasks { min-height: 200px; }
    
    /* Ø¹Ø±Ø¶ Ø´Ù‡Ø±ÙŠ */
    .monthly-view { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; background: var(--border-color); border-radius: 8px; overflow: hidden; }
    .month-day { 
        border: 1px solid var(--border-color); 
        padding: 8px; 
        min-height: 100px;
        position: relative;
        background: var(--card-bg);
    }
    .month-day-header { 
        display: flex; 
        justify-content: space-between; 
        margin-bottom: 5px;
        font-size: 0.9rem;
    }
    .day-number { font-weight: bold; color: var(--text-color); }
    .today-indicator { 
        background: var(--primary); 
        color: white; 
        width: 24px; 
        height: 24px; 
        border-radius: 50%; 
        display: flex; 
        align-items: center; 
        justify-content: center;
        font-weight: bold;
    }
    .other-month { background: var(--hover-bg); color: #adb5bd; }
    
    /* Ø§Ù„Ù†ÙˆØ§ÙØ° */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; }
    .modal.active { display: flex; }
    .modal-content { background: var(--card-bg); border-radius: 10px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; color: var(--text-color); }
    .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid var(--border-color); }
    .close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--gray); }
    .modal-body { padding: 20px; }
    .modal-footer { padding: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: flex-end; gap: 10px; }
    
    /* Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø© */
    .task-settings-tabs { 
        display: flex; 
        border-bottom: 1px solid var(--border-color); 
        margin-bottom: 20px;
    }
    .tab-btn { 
        padding: 10px 20px; 
        background: none; 
        border: none; 
        cursor: pointer; 
        border-bottom: 3px solid transparent;
        font-weight: 500;
        transition: 0.3s;
        color: var(--text-color);
    }
    .tab-btn.active { 
        border-bottom-color: var(--primary); 
        color: var(--primary);
    }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    
    /* Ù…Ø­Ø±Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
    .notes-editor { border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; margin-bottom: 20px; }
    .editor-toolbar { display: flex; gap: 5px; padding: 10px; background: var(--hover-bg); border-bottom: 1px solid var(--border-color); flex-wrap: wrap; }
    .editor-btn { padding: 5px 10px; border: 1px solid var(--border-color); background: var(--card-bg); border-radius: 4px; cursor: pointer; color: var(--text-color); }
    .editor-btn:hover { background: var(--hover-bg); }
    .editor-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
    .notes-content { 
        min-height: 200px; 
        padding: 15px; 
        font-family: inherit; 
        font-size: 1rem;
        line-height: 1.6;
        color: var(--text-color);
        background: var(--card-bg);
        border: none;
        outline: none;
        width: 100%;
        resize: vertical;
    }
    .notes-content:focus { outline: none; }
    .note-item { 
        padding: 15px; 
        margin-bottom: 15px; 
        background: var(--hover-bg); 
        border-radius: 8px;
        border-left: 4px solid var(--primary);
    }
    .note-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .note-date { font-size: 0.85rem; color: var(--gray); }
    .note-actions { display: flex; gap: 5px; }
    .note-content { line-height: 1.6; }
    
    /* Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: var(--text-color); }
    .form-group input, .form-group select, .form-group textarea { 
        width: 100%; 
        padding: 10px; 
        border: 1px solid var(--border-color); 
        border-radius: 5px; 
        font-size: 1rem; 
        background: var(--card-bg);
        color: var(--text-color);
    }
    .form-group input:focus, .form-group select:focus { outline: none; border-color: var(--primary); }
    .form-row { display: flex; gap: 15px; }
    .form-row .form-group { flex: 1; }
    
    /* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
    .stats-grid { 
        display: grid; 
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
        gap: 20px; 
        margin-top: 20px;
    }
    .stat-card { 
        background: var(--hover-bg); 
        padding: 20px; 
        border-radius: 10px; 
        text-align: center;
        border-top: 4px solid;
    }
    
    /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­ÙÙŠØ² */
    .motivation-message { 
        padding: 15px; 
        border-radius: 8px; 
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
        animation: fadeIn 0.5s ease;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .motivation-empty { background: #e7f5ff; border: 1px solid #a5d8ff; color: #1864ab; }
    .motivation-progress { background: #fff3bf; border: 1px solid #ffd43b; color: #e67700; }
    .motivation-completed { background: #d3f9d8; border: 1px solid #69db7c; color: #2b8a3e; }
    .motivation-full { background: #ffe3e3; border: 1px solid #ff8787; color: #c92a2a; }
    
    /* Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§Ø±ØºØ© */
    .empty-state { text-align: center; padding: 40px 20px; color: var(--gray); }
    .empty-state i { margin-bottom: 20px; opacity: 0.5; }
    .empty-state h4 { margin-bottom: 10px; color: var(--dark); }
    
    /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ */
    .alert { padding: 12px 15px; border-radius: 8px; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
    .alert-warning { background: #fff3cd; border: 1px solid #ffcd39; color: #856404; }
    .alert-danger { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
    .alert-success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
    .alert-info { background: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
    
    /* Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª */
    .reminder-item { 
        display: flex; 
        align-items: center; 
        gap: 10px; 
        padding: 10px; 
        background: var(--hover-bg); 
        border-radius: 8px; 
        margin-bottom: 10px;
    }
    .reminder-icon { 
        width: 36px; 
        height: 36px; 
        border-radius: 50%; 
        display: flex; 
        align-items: center; 
        justify-content: center;
        color: white;
        font-size: 1.2rem;
    }
    
    /* Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„ÙˆÙ‚Øª */
    .time-indicator { 
        display: inline-block; 
        padding: 2px 8px; 
        border-radius: 4px; 
        font-size: 0.8rem; 
        font-weight: bold;
        margin-left: 5px;
    }
    .time-soon { background: #fff3cd; color: #856404; }
    .time-overdue { background: #f8d7da; color: #721c24; }
    .time-future { background: #d1ecf1; color: #0c5460; }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØµÙÙŠØ© */
    .filter-bar { 
        display: flex; 
        gap: 10px; 
        margin-bottom: 20px; 
        padding: 15px; 
        background: var(--hover-bg); 
        border-radius: 8px;
        flex-wrap: wrap;
    }
    .filter-group { display: flex; flex-direction: column; gap: 5px; }
    .filter-group label { font-size: 0.85rem; color: var(--gray); }
    
    /* Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù†Øµ ÙÙŠ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
    .text-bold { font-weight: bold; }
    .text-italic { font-style: italic; }
    .text-underline { text-decoration: underline; }
    .text-strike { text-decoration: line-through; }
    
    /* Ø§Ù„ØªÙ…Ø±ÙŠØ± */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--hover-bg); }
    ::-webkit-scrollbar-thumb { background: var(--gray); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--primary); }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="logo">
                <h1><i class="fas fa-tasks"></i> Ù…Ù‡Ø§Ù…ÙŠ</h1>
                <div class="theme-selector" style="margin-top: 15px;">
                    <div class="theme-btn theme-light active" data-theme="light" title="ÙØ§ØªØ­"></div>
                    <div class="theme-btn theme-dark" data-theme="dark" title="Ø¯Ø§ÙƒÙ†"></div>
                    <div class="theme-btn theme-blue" data-theme="blue" title="Ø£Ø²Ø±Ù‚"></div>
                    <div class="theme-btn theme-green" data-theme="green" title="Ø£Ø®Ø¶Ø±"></div>
                </div>
            </div>
            <nav class="main-nav">
                <a href="#" class="nav-item active" data-view="tasks"><i class="fas fa-list-check"></i> Ø§Ù„Ù…Ù‡Ø§Ù…</a>
                <a href="#" class="nav-item" data-view="calendar"><i class="fas fa-calendar-days"></i> Ø§Ù„Ø¬Ø¯ÙˆÙ„</a>
                <a href="#" class="nav-item" data-view="notes"><i class="fas fa-sticky-note"></i> Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</a>
                <a href="#" class="nav-item" data-view="stats"><i class="fas fa-chart-pie"></i> Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</a>
                <a href="#" class="nav-item" data-view="categories"><i class="fas fa-tags"></i> Ø§Ù„ÙØ¦Ø§Øª</a>
            </nav>
        </aside>

        <main class="main-content">
            <header class="main-header">
                <div class="header-left">
                    <h2 id="current-view-title">Ø§Ù„Ù…Ù‡Ø§Ù…</h2>
                    <div id="current-date" class="date-display"></div>
                </div>
                <div class="header-right">
                    <button class="btn btn-primary" id="add-task-btn"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©</button>
                    <button class="btn btn-light" id="add-note-btn" style="display: none;"><i class="fas fa-plus"></i> Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                </div>
            </header>

            <div class="time-navigation" id="time-navigation" style="display: none;">
                <button class="time-btn active" data-range="daily"><i class="fas fa-calendar-day"></i> Ø§Ù„ÙŠÙˆÙ…ÙŠ</button>
                <button class="time-btn" data-range="weekly"><i class="fas fa-calendar-week"></i> Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</button>
                <button class="time-btn" data-range="monthly"><i class="fas fa-calendar-alt"></i> Ø§Ù„Ø´Ù‡Ø±ÙŠ</button>
            </div>

            <div class="content-area">
                <!-- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù… -->
                <div id="tasks-view" class="view active-view">
                    <div class="filter-bar">
                        <div class="filter-group">
                            <label>ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®:</label>
                            <select id="date-filter" class="filter-select">
                                <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</option>
                                <option value="today">Ø§Ù„ÙŠÙˆÙ…</option>
                                <option value="week">Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</option>
                                <option value="month">Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</option>
                                <option value="overdue">Ù…ØªØ£Ø®Ø±Ø©</option>
                                <option value="upcoming">Ù‚Ø§Ø¯Ù…Ø©</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©:</label>
                            <select id="status-filter" class="filter-select">
                                <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                                <option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option>
                                <option value="completed">Ù…ÙƒØªÙ…Ù„Ø©</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©:</label>
                            <select id="category-filter" class="filter-select">
                                <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</option>
                            </select>
                        </div>
                        <button class="btn btn-secondary" id="clear-filters"><i class="fas fa-times"></i> Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±</button>
                    </div>
                    
                    <div id="motivation-messages"></div>
                    <div class="tasks-list" id="tasks-list">
                        <div class="empty-state">
                            <i class="fas fa-tasks fa-3x"></i>
                            <h4>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù…</h4>
                            <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©" Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù‡Ù…ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰</p>
                        </div>
                    </div>
                </div>

                <!-- Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
                <div id="calendar-view" class="view">
                    <div class="calendar-header">
                        <h3 id="calendar-title">Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
                        <div class="calendar-nav">
                            <button class="btn btn-secondary" id="prev-period"><i class="fas fa-chevron-right"></i></button>
                            <button class="btn btn-secondary" id="current-period">Ø§Ù„ÙŠÙˆÙ…</button>
                            <button class="btn btn-secondary" id="next-period"><i class="fas fa-chevron-left"></i></button>
                        </div>
                    </div>
                    <div class="calendar-body" id="calendar-body">
                        <p>Ø§Ø®ØªØ± Ø¹Ø±Ø¶Ø§Ù‹ Ø²Ù…Ù†ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰</p>
                    </div>
                </div>

                <!-- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
                <div id="notes-view" class="view">
                    <div class="notes-container">
                        <h3>Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h3>
                        <div class="notes-editor" id="notes-editor" style="display: none;">
                            <div class="editor-toolbar" id="editor-toolbar">
                                <button class="editor-btn" data-command="bold" title="Ø¹Ø±ÙŠØ¶"><i class="fas fa-bold"></i></button>
                                <button class="editor-btn" data-command="italic" title="Ù…Ø§Ø¦Ù„"><i class="fas fa-italic"></i></button>
                                <button class="editor-btn" data-command="underline" title="ØªØ­ØªÙ‡ Ø®Ø·"><i class="fas fa-underline"></i></button>
                                <button class="editor-btn" data-command="strikeThrough" title="Ø®Ø· ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ"><i class="fas fa-strikethrough"></i></button>
                                <div style="width: 1px; height: 24px; background: var(--border-color); margin: 0 5px;"></div>
                                <select class="editor-btn" id="font-size" title="Ø­Ø¬Ù… Ø§Ù„Ø®Ø·">
                                    <option value="1">ØµØºÙŠØ±</option>
                                    <option value="2" selected>Ø¹Ø§Ø¯ÙŠ</option>
                                    <option value="3">ÙƒØ¨ÙŠØ±</option>
                                    <option value="4">ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹</option>
                                </select>
                                <select class="editor-btn" id="text-align" title="Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ">
                                    <option value="right">ÙŠÙ…ÙŠÙ†</option>
                                    <option value="center">ÙˆØ³Ø·</option>
                                    <option value="left">ÙŠØ³Ø§Ø±</option>
                                    <option value="justify">Ø¶Ø¨Ø·</option>
                                </select>
                                <div style="width: 1px; height: 24px; background: var(--border-color); margin: 0 5px;"></div>
                                <button class="editor-btn" data-command="insertUnorderedList" title="Ù‚Ø§Ø¦Ù…Ø© Ù†Ù‚Ø·ÙŠØ©"><i class="fas fa-list-ul"></i></button>
                                <button class="editor-btn" data-command="insertOrderedList" title="Ù‚Ø§Ø¦Ù…Ø© Ø±Ù‚Ù…ÙŠØ©"><i class="fas fa-list-ol"></i></button>
                                <button class="editor-btn" id="clear-format" title="Ù…Ø³Ø­ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚"><i class="fas fa-eraser"></i></button>
                            </div>
                            <div class="notes-content" id="notes-content" contenteditable="true" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."></div>
                        </div>
                        <div class="notes-list" id="notes-list">
                            <div class="empty-state">
                                <i class="fas fa-sticky-note fa-3x"></i>
                                <h4>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h4>
                                <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©" Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
                <div id="stats-view" class="view">
                    <div class="stats-container">
                        <h3>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ø§Ù…</h3>
                        <div id="stats-grid" class="stats-grid"></div>
                    </div>
                </div>

                <!-- Ø¹Ø±Ø¶ Ø§Ù„ÙØ¦Ø§Øª -->
                <div id="categories-view" class="view">
                    <div class="categories-container">
                        <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª</h3>
                        <button class="btn btn-primary" id="add-category-btn"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø©</button>
                        <div class="categories-list" id="categories-list" style="margin-top: 20px;"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© -->
    <div class="modal" id="add-task-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
                <button class="close-btn" id="close-task-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="task-form">
                    <div class="form-group">
                        <label for="task-title">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø© *</label>
                        <input type="text" id="task-title" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©" required>
                    </div>
                    <div class="form-group">
                        <label for="task-description">ÙˆØµÙ Ø§Ù„Ù…Ù‡Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <textarea id="task-description" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙ Ø§Ù„Ù…Ù‡Ù…Ø©" rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-category">Ø§Ù„ÙØ¦Ø© *</label>
                            <select id="task-category" required></select>
                        </div>
                        <div class="form-group">
                            <label for="task-duration">Ø§Ù„Ù…Ø¯Ø© (Ø¯Ù‚Ø§Ø¦Ù‚) *</label>
                            <input type="number" id="task-duration" min="1" value="30" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-start-date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡ *</label>
                            <input type="date" id="task-start-date" required>
                        </div>
                        <div class="form-group">
                            <label for="task-end-date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ *</label>
                            <input type="date" id="task-end-date" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-start-time">ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <input type="time" id="task-start-time">
                        </div>
                        <div class="form-group">
                            <label for="task-end-time">ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <input type="time" id="task-end-time">
                        </div>
                    </div>
                    <div id="time-check-result"></div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-task">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="btn btn-primary" id="save-task">Ø­ÙØ¸ Ø§Ù„Ù…Ù‡Ù…Ø©</button>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø© -->
    <div class="modal" id="task-settings-modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h3 id="task-settings-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©</h3>
                <button class="close-btn" id="close-task-settings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="task-settings-tabs">
                    <button class="tab-btn active" data-tab="basic">Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</button>
                    <button class="tab-btn" data-tab="time">Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®</button>
                    <button class="tab-btn" data-tab="reminders">Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª</button>
                </div>
                
                <div id="basic-tab" class="tab-content active">
                    <form id="task-settings-form">
                        <input type="hidden" id="settings-task-id">
                        <div class="form-group">
                            <label for="settings-title">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø© *</label>
                            <input type="text" id="settings-title" required>
                        </div>
                        <div class="form-group">
                            <label for="settings-description">ÙˆØµÙ Ø§Ù„Ù…Ù‡Ù…Ø©</label>
                            <textarea id="settings-description" rows="3"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="settings-category">Ø§Ù„ÙØ¦Ø© *</label>
                                <select id="settings-category" required></select>
                            </div>
                            <div class="form-group">
                                <label for="settings-duration">Ø§Ù„Ù…Ø¯Ø© (Ø¯Ù‚Ø§Ø¦Ù‚) *</label>
                                <input type="number" id="settings-duration" min="1" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="settings-priority">Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©</label>
                            <select id="settings-priority">
                                <option value="low">Ù…Ù†Ø®ÙØ¶Ø©</option>
                                <option value="medium">Ù…ØªÙˆØ³Ø·Ø©</option>
                                <option value="high">Ø¹Ø§Ù„ÙŠØ©</option>
                            </select>
                        </div>
                    </form>
                </div>
                
                <div id="time-tab" class="tab-content">
                    <form id="time-settings-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="settings-start-date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡ *</label>
                                <input type="date" id="settings-start-date" required>
                            </div>
                            <div class="form-group">
                                <label for="settings-end-date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ *</label>
                                <input type="date" id="settings-end-date" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="settings-start-time">ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡</label>
                                <input type="time" id="settings-start-time">
                            </div>
                            <div class="form-group">
                                <label for="settings-end-time">ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</label>
                                <input type="time" id="settings-end-time">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="settings-recurrence">Ø§Ù„ØªÙƒØ±Ø§Ø±</label>
                            <select id="settings-recurrence">
                                <option value="none">Ù„Ø§ ÙŠÙˆØ¬Ø¯</option>
                                <option value="daily">ÙŠÙˆÙ…ÙŠ</option>
                                <option value="weekly">Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>
                                <option value="monthly">Ø´Ù‡Ø±ÙŠ</option>
                            </select>
                        </div>
                    </form>
                </div>
                
                <div id="reminders-tab" class="tab-content">
                    <div class="form-group">
                        <label>Ø¥Ø¶Ø§ÙØ© ØªØ°ÙƒÙŠØ±</label>
                        <div class="form-row">
                            <div class="form-group">
                                <select id="reminder-type">
                                    <option value="notification">Ø¥Ø´Ø¹Ø§Ø±</option>
                                    <option value="email">Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</option>
                                    <option value="both">Ø§Ù„Ø§Ø«Ù†ÙŠÙ† Ù…Ø¹Ø§Ù‹</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <select id="reminder-time">
                                    <option value="5">5 Ø¯Ù‚Ø§Ø¦Ù‚ Ù‚Ø¨Ù„</option>
                                    <option value="15">15 Ø¯Ù‚ÙŠÙ‚Ø© Ù‚Ø¨Ù„</option>
                                    <option value="30">30 Ø¯Ù‚ÙŠÙ‚Ø© Ù‚Ø¨Ù„</option>
                                    <option value="60">Ø³Ø§Ø¹Ø© Ù‚Ø¨Ù„</option>
                                    <option value="1440">ÙŠÙˆÙ… Ù‚Ø¨Ù„</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-secondary" id="add-reminder-btn"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                    <div id="reminders-list">
                        <p style="color: var(--gray); text-align: center; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ°ÙƒÙŠØ±Ø§Øª</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="delete-task-btn">Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø©</button>
                <button class="btn btn-secondary" id="cancel-task-settings">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="btn btn-primary" id="save-task-settings">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ ÙØ¦Ø© -->
    <div class="modal" id="category-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="category-modal-title">Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
                <button class="close-btn" id="close-category-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="category-form">
                    <input type="hidden" id="category-id">
                    <div class="form-group">
                        <label for="category-name">Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© *</label>
                        <input type="text" id="category-name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø©" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="category-color">Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø©</label>
                            <input type="color" id="category-color" value="#4361ee">
                        </div>
                        <div class="form-group">
                            <label for="category-time-limit">Ø§Ù„Ø­ØµØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (Ø¯Ù‚Ø§Ø¦Ù‚) *</label>
                            <input type="number" id="category-time-limit" min="1" value="60" required>
                            <small style="color: var(--gray); font-size: 0.85rem;">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù…Ù† Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ ÙŠÙˆÙ…ÙŠÙ‹Ø§</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="category-icon">Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ÙØ¦Ø©</label>
                        <select id="category-icon">
                            <option value="fas fa-home">Ù…Ù†Ø²Ù„</option>
                            <option value="fas fa-briefcase">Ø¹Ù…Ù„</option>
                            <option value="fas fa-graduation-cap">Ø¯Ø±Ø§Ø³Ø©</option>
                            <option value="fas fa-heartbeat">ØµØ­Ø©</option>
                            <option value="fas fa-shopping-cart">ØªØ³ÙˆÙ‚</option>
                            <option value="fas fa-dumbbell">Ø±ÙŠØ§Ø¶Ø©</option>
                            <option value="fas fa-utensils">Ø·Ø¹Ø§Ù…</option>
                            <option value="fas fa-users">Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</option>
                        </select>
                    </div>
                    <h4 style="margin-top: 20px; margin-bottom: 10px; color: var(--text-color);">Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­ÙÙŠØ² Ù„Ù„ÙØ¦Ø©</h4>
                    <div class="form-group">
                        <label for="category-empty-message">Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø§Ù„ÙØ¦Ø© ÙØ§Ø±ØºØ©</label>
                        <input type="text" id="category-empty-message" placeholder="Ø£ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© ØªØ´Ø¬ÙŠØ¹ÙŠØ© Ù„Ù„Ø¨Ø¯Ø¡">
                        <small style="color: var(--gray); font-size: 0.85rem;">Ø³ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… ÙÙŠ Ø§Ù„ÙØ¦Ø©</small>
                    </div>
                    <div class="form-group">
                        <label for="category-progress-message">Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ù… ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø©</label>
                        <input type="text" id="category-progress-message" placeholder="Ø£ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© ØªØ­ÙÙŠØ²ÙŠØ© Ù„Ù„Ø¥Ù†Ø¬Ø§Ø²">
                        <small style="color: var(--gray); font-size: 0.85rem;">Ø³ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ù… Ù„Ù… ØªÙ†ØªÙ‡ Ø¨Ø¹Ø¯</small>
                    </div>
                    <div class="form-group">
                        <label for="category-completed-message">Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</label>
                        <input type="text" id="category-completed-message" placeholder="Ø£ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© ØªÙ‡Ù†Ø¦Ø© Ù„Ù„Ø¥Ù†Ø¬Ø§Ø²">
                        <small style="color: var(--gray); font-size: 0.85rem;">Ø³ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ù…Ù‡Ø§Ù… Ø§Ù„ÙØ¦Ø©</small>
                    </div>
                    <div class="form-group">
                        <label for="category-full-message">Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù…ØªÙ„Ø§Ø¡ Ø§Ù„Ø­ØµØ© Ø§Ù„Ø²Ù…Ù†ÙŠØ©</label>
                        <input type="text" id="category-full-message" placeholder="Ø£ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯Ù…Ø§ ØªÙ…ØªÙ„Ø¦ Ø§Ù„ÙØ¦Ø©">
                        <small style="color: var(--gray); font-size: 0.85rem;">Ø³ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒØ§Ù…Ù„ Ø§Ù„Ø­ØµØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</small>
                    </div>
                    <div class="form-group">
                        <label for="category-warning-percentage">Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­Ø°ÙŠØ±</label>
                        <input type="range" id="category-warning-percentage" min="0" max="100" value="80">
                        <div style="display: flex; justify-content: space-between;">
                            <small style="color: var(--gray);">0%</small>
                            <small id="warning-percentage-value" style="color: var(--primary); font-weight: bold;">80%</small>
                            <small style="color: var(--gray);">100%</small>
                        </div>
                        <small style="color: var(--gray); font-size: 0.85rem;">Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø®Ø§ØµØ© Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø§Ù„ÙØ¦Ø© Ø¥Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø¨Ø©</small>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-category">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="btn btn-primary" id="save-category">Ø­ÙØ¸ Ø§Ù„ÙØ¦Ø©</button>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© -->
    <div class="modal" id="note-modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h3 id="note-modal-title">Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
                <button class="close-btn" id="close-note-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="notes-editor">
                    <div class="editor-toolbar">
                        <button class="editor-btn" data-command="bold" title="Ø¹Ø±ÙŠØ¶"><i class="fas fa-bold"></i></button>
                        <button class="editor-btn" data-command="italic" title="Ù…Ø§Ø¦Ù„"><i class="fas fa-italic"></i></button>
                        <button class="editor-btn" data-command="underline" title="ØªØ­ØªÙ‡ Ø®Ø·"><i class="fas fa-underline"></i></button>
                        <button class="editor-btn" data-command="strikeThrough" title="Ø®Ø· ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ"><i class="fas fa-strikethrough"></i></button>
                        <div style="width: 1px; height: 24px; background: var(--border-color); margin: 0 5px;"></div>
                        <select class="editor-btn" id="modal-font-size" title="Ø­Ø¬Ù… Ø§Ù„Ø®Ø·">
                            <option value="1">ØµØºÙŠØ±</option>
                            <option value="2" selected>Ø¹Ø§Ø¯ÙŠ</option>
                            <option value="3">ÙƒØ¨ÙŠØ±</option>
                            <option value="4">ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹</option>
                        </select>
                        <select class="editor-btn" id="modal-text-align" title="Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ">
                            <option value="right">ÙŠÙ…ÙŠÙ†</option>
                            <option value="center">ÙˆØ³Ø·</option>
                            <option value="left">ÙŠØ³Ø§Ø±</option>
                            <option value="justify">Ø¶Ø¨Ø·</option>
                        </select>
                        <div style="width: 1px; height: 24px; background: var(--border-color); margin: 0 5px;"></div>
                        <button class="editor-btn" data-command="insertUnorderedList" title="Ù‚Ø§Ø¦Ù…Ø© Ù†Ù‚Ø·ÙŠØ©"><i class="fas fa-list-ul"></i></button>
                        <button class="editor-btn" data-command="insertOrderedList" title="Ù‚Ø§Ø¦Ù…Ø© Ø±Ù‚Ù…ÙŠØ©"><i class="fas fa-list-ol"></i></button>
                        <button class="editor-btn" id="modal-clear-format" title="Ù…Ø³Ø­ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚"><i class="fas fa-eraser"></i></button>
                    </div>
                    <div class="notes-content" id="modal-notes-content" contenteditable="true" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-note">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="btn btn-primary" id="save-note">Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</button>
            </div>
        </div>
    </div>

    <!-- Ø¹Ù†ØµØ± Ù„Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ… -->
    <div id="task-tooltip" class="task-tooltip"></div>

    <script>
    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† ==========
    class TaskManager {
        constructor() {
            console.log("ØªÙ‡ÙŠØ¦Ø© TaskManager...");
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚
            const tasksData = this.loadFromStorage('tasks');
            this.tasks = Array.isArray(tasksData) ? tasksData : [];
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ¦Ø§Øª Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø¯ÙŠØ¯
            const categoriesData = this.loadFromStorage('categories');
            
            if (Array.isArray(categoriesData) && categoriesData.length > 0) {
                this.categories = categoriesData;
            } else {
                console.log("Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©");
                this.categories = this.getDefaultCategories();
            }
            
            // Ø§Ù„ØªØ£ÙƒØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
            if (!Array.isArray(this.categories)) {
                this.categories = this.getDefaultCategories();
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
            const notesData = this.loadFromStorage('notes');
            this.notes = Array.isArray(notesData) ? notesData : [];
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª
            this.reminders = this.loadFromStorage('reminders') || [];
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
            this.currentTheme = this.loadFromStorage('theme') || 'light';
            
            console.log("Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:", this.categories);
            this.initSampleData();
        }

        loadFromStorage(key) {
            try {
                const data = localStorage.getItem(key);
                if (!data) return null;
                return JSON.parse(data);
            } catch (e) {
                console.error(`Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ ${key}:`, e);
                return null;
            }
        }

        saveToStorage(key, data) {
            try {
                localStorage.setItem(key, JSON.stringify(data));
            } catch (e) {
                console.error(`Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ ${key}:`, e);
            }
        }

        getDefaultCategories() {
            return [
                {
                    id: 'personal',
                    name: 'Ù…Ù‡Ø§Ù… Ø´Ø®ØµÙŠØ©',
                    color: '#4361ee',
                    timeLimit: 120,
                    icon: 'fas fa-home',
                    emptyMessage: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ø´Ø®ØµÙŠØ© Ø§Ù„ÙŠÙˆÙ…ØŒ Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ù„Ù„Ø¨Ø¯Ø¡! âœ¨',
                    progressMessage: 'Ù„Ø¯ÙŠÙƒ Ù…Ù‡Ø§Ù… Ø´Ø®ØµÙŠØ© ØªÙ†ØªØ¸Ø± Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²ØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ‚Ø¯Ù…! ğŸ’ª',
                    completedMessage: 'Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø£Ù†Ø¬Ø²Øª Ø¬Ù…ÙŠØ¹ Ù…Ù‡Ø§Ù…Ùƒ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„ÙŠÙˆÙ…! ğŸ‰',
                    fullMessage: 'Ù„Ù‚Ø¯ Ø§Ø³ØªØ®Ø¯Ù…Øª ÙˆÙ‚ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠ Ø§Ù„ÙŠÙˆÙ…ØŒ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ø²Ù†! âš–ï¸',
                    warningPercentage: 80
                },
                {
                    id: 'work',
                    name: 'Ø¹Ù…Ù„',
                    color: '#f72585',
                    timeLimit: 480,
                    icon: 'fas fa-briefcase',
                    emptyMessage: 'ÙŠÙˆÙ… Ø¹Ù…Ù„ Ù‡Ø§Ø¯Ø¦ØŒ Ø±Ø¨Ù…Ø§ Ø­Ø§Ù† Ø§Ù„ÙˆÙ‚Øª Ù„Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„Ù…Ø³ØªÙ‚Ø¨Ù„? ğŸ“ˆ',
                    progressMessage: 'Ù…Ù‡Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ ØªÙ†ØªØ¸Ø±ÙƒØŒ Ø§Ø¬Ø¹Ù„Ù‡Ø§ Ø£ÙˆÙ„ÙˆÙŠØ©! ğŸš€',
                    completedMessage: 'Ù…Ù‡Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ Ù…ÙƒØªÙ…Ù„Ø©ØŒ Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹ Ø§Ù„ÙŠÙˆÙ…! ğŸ‘',
                    fullMessage: 'ÙŠÙˆÙ… Ø¹Ù…Ù„ Ù…ÙƒØ«ÙØŒ Ù„Ø§ ØªÙ†Ø³Ù‰ Ø£Ø®Ø° Ù‚Ø³Ø· Ù…Ù† Ø§Ù„Ø±Ø§Ø­Ø©! â˜•',
                    warningPercentage: 90
                },
                {
                    id: 'study',
                    name: 'Ø¯Ø±Ø§Ø³Ø©',
                    color: '#4cc9f0',
                    timeLimit: 180,
                    icon: 'fas fa-graduation-cap',
                    emptyMessage: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ø¯Ø±Ø§Ø³Ø©ØŒ Ø±Ø¨Ù…Ø§ Ø­Ø§Ù† Ø§Ù„ÙˆÙ‚Øª Ù„Ù„ØªØ¹Ù„Ù… Ø´ÙŠØ¡ Ø¬Ø¯ÙŠØ¯? ğŸ“š',
                    progressMessage: 'Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©ØŒ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ù‡ÙŠ Ø§Ù„Ù‚ÙˆØ©! ğŸ’¡',
                    completedMessage: 'Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø¬Ù„Ø³Ø© Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ù†Ø¬Ø§Ø­ØŒ ÙØ®ÙˆØ± Ø¨Ùƒ! ğŸŒŸ',
                    fullMessage: 'Ù„Ù‚Ø¯ Ø§Ø³ØªØ®Ø¯Ù…Øª ÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„ÙŠÙˆÙ…ØŒ Ø§Ø³ØªØ±Ø§Ø­Ø© Ø«Ù… Ø§Ù„Ø¹ÙˆØ¯Ø©! ğŸ§ ',
                    warningPercentage: 75
                },
                {
                    id: 'health',
                    name: 'ØµØ­ÙŠØ©',
                    color: '#38b000',
                    timeLimit: 60,
                    icon: 'fas fa-heartbeat',
                    emptyMessage: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù†Ø´Ø·Ø© ØµØ­ÙŠØ©ØŒ ÙƒÙŠÙ Ø³ØªØ¹ØªÙ†ÙŠ Ø¨ØµØ­ØªÙƒ Ø§Ù„ÙŠÙˆÙ…? ğŸ’š',
                    progressMessage: 'Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨ØµØ­ØªÙƒØŒ Ø§Ù„Ø¬Ø³Ø¯ Ø§Ù„Ø³Ù„ÙŠÙ… ÙÙŠ Ø§Ù„Ø¹Ù‚Ù„ Ø§Ù„Ø³Ù„ÙŠÙ…! ğŸƒâ€â™‚ï¸',
                    completedMessage: 'Ø±Ø§Ø¦Ø¹! Ù„Ù‚Ø¯ Ø§Ø¹ØªÙ†ÙŠØª Ø¨ØµØ­ØªÙƒ Ø§Ù„ÙŠÙˆÙ… Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø²! ğŸ’ª',
                    fullMessage: 'Ù„Ù‚Ø¯ Ø§Ø³ØªØ®Ø¯Ù…Øª ÙˆÙ‚ØªÙƒ Ø§Ù„ØµØ­ÙŠØŒ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙˆØªÙŠÙ†! ğŸ',
                    warningPercentage: 100
                }
            ];
        }

        initSampleData() {
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ù‡Ø§Ù…ØŒ Ø£Ø¶Ù Ù…Ù‡Ø§Ù… ØªØ¬Ø±ÙŠØ¨ÙŠØ©
            if (this.tasks.length === 0) {
                const today = new Date();
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                const nextWeek = new Date(today);
                nextWeek.setDate(nextWeek.getDate() + 7);
                
                this.tasks = [
                    {
                        id: '1',
                        title: 'Ù…Ù‡Ù…Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©',
                        description: 'Ù‡Ø°Ù‡ Ù…Ù‡Ù…Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±',
                        categoryId: 'personal',
                        duration: 30,
                        startDate: today.toISOString().split('T')[0],
                        endDate: today.toISOString().split('T')[0],
                        startTime: '09:00',
                        endTime: '09:30',
                        completed: false,
                        priority: 'medium',
                        recurrence: 'none',
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: '2',
                        title: 'Ø§Ø¬ØªÙ…Ø§Ø¹ Ø¹Ù…Ù„',
                        description: 'Ø§Ø¬ØªÙ…Ø§Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ',
                        categoryId: 'work',
                        duration: 60,
                        startDate: today.toISOString().split('T')[0],
                        endDate: today.toISOString().split('T')[0],
                        startTime: '14:00',
                        endTime: '15:00',
                        completed: false,
                        priority: 'high',
                        recurrence: 'weekly',
                        createdAt: new Date().toISOString()
                    }
                ];
                this.saveTasks();
            }
            
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŒ Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©
            if (this.notes.length === 0) {
                this.notes = [
                    {
                        id: '1',
                        title: 'Ù…Ù„Ø§Ø­Ø¸Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©',
                        content: '<p>Ù‡Ø°Ù‡ Ù…Ù„Ø§Ø­Ø¸Ø© <strong>ØªØ¬Ø±ÙŠØ¨ÙŠØ©</strong> Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±.</p><p>ÙŠÙ…ÙƒÙ†Ùƒ <u>ØªÙ†Ø³ÙŠÙ‚</u> Ø§Ù„Ù†Øµ ÙƒÙ…Ø§ ØªØ±ÙŠØ¯!</p>',
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    }
                ];
                this.saveNotes();
            }
            
            // Ø­ÙØ¸ Ø§Ù„ÙØ¦Ø§Øª Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ù„ØªØ£ÙƒØ¯
            this.saveCategories();
        }

        getTodayDate() {
            const today = new Date();
            return today.toISOString().split('T')[0];
        }

        // ========== Ø§Ù„Ù…Ù‡Ø§Ù… ==========
        addTask(task) {
            if (!task.id) task.id = Date.now().toString();
            if (!task.createdAt) task.createdAt = new Date().toISOString();
            this.tasks.push(task);
            this.saveTasks();
            return task;
        }

        updateTask(taskId, updatedData) {
            const index = this.tasks.findIndex(task => task.id === taskId);
            if (index !== -1) {
                this.tasks[index] = { ...this.tasks[index], ...updatedData };
                this.saveTasks();
                return this.tasks[index];
            }
            return null;
        }

        deleteTask(taskId) {
            this.tasks = this.tasks.filter(task => task.id !== taskId);
            this.saveTasks();
        }

        getTasks(filters = {}) {
            let filteredTasks = [...this.tasks];
            
            if (filters.dateFilter) {
                const today = this.getTodayDate();
                const todayDate = new Date(today);
                
                switch(filters.dateFilter) {
                    case 'today':
                        filteredTasks = filteredTasks.filter(task => 
                            task.startDate === today || task.endDate === today
                        );
                        break;
                    case 'week':
                        const weekStart = new Date(todayDate);
                        weekStart.setDate(weekStart.getDate() - weekStart.getDay());
                        const weekEnd = new Date(weekStart);
                        weekEnd.setDate(weekEnd.getDate() + 6);
                        
                        filteredTasks = filteredTasks.filter(task => 
                            task.startDate >= weekStart.toISOString().split('T')[0] && 
                            task.startDate <= weekEnd.toISOString().split('T')[0]
                        );
                        break;
                    case 'month':
                        const monthStart = new Date(todayDate.getFullYear(), todayDate.getMonth(), 1);
                        const monthEnd = new Date(todayDate.getFullYear(), todayDate.getMonth() + 1, 0);
                        
                        filteredTasks = filteredTasks.filter(task => 
                            task.startDate >= monthStart.toISOString().split('T')[0] && 
                            task.startDate <= monthEnd.toISOString().split('T')[0]
                        );
                        break;
                    case 'overdue':
                        filteredTasks = filteredTasks.filter(task => 
                            !task.completed && task.endDate < today
                        );
                        break;
                    case 'upcoming':
                        filteredTasks = filteredTasks.filter(task => 
                            !task.completed && task.startDate > today
                        );
                        break;
                }
            }
            
            if (filters.statusFilter && filters.statusFilter !== 'all') {
                filteredTasks = filteredTasks.filter(task => 
                    filters.statusFilter === 'completed' ? task.completed : !task.completed
                );
            }
            
            if (filters.categoryFilter && filters.categoryFilter !== 'all') {
                filteredTasks = filteredTasks.filter(task => 
                    task.categoryId === filters.categoryFilter
                );
            }
            
            return filteredTasks.sort((a, b) => new Date(a.startDate) - new Date(b.startDate));
        }

        getTaskById(taskId) {
            return this.tasks.find(task => task.id === taskId);
        }

        toggleTaskCompletion(taskId) {
            const task = this.getTaskById(taskId);
            if (task) {
                task.completed = !task.completed;
                this.saveTasks();
            }
        }

        saveTasks() {
            this.saveToStorage('tasks', this.tasks);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„ÙØ¦Ø©
        checkCategoryTimeAvailability(categoryId, taskDuration, taskDate, excludeTaskId = null) {
            const category = this.getCategoryById(categoryId);
            if (!category || !category.timeLimit) return { available: true, remaining: 0 };
            
            const dateTasks = this.tasks.filter(task => 
                task.categoryId === categoryId && 
                task.startDate === taskDate &&
                (!excludeTaskId || task.id !== excludeTaskId)
            );
            
            const totalUsedTime = dateTasks.reduce((sum, task) => sum + (task.duration || 0), 0);
            const remainingTime = category.timeLimit - totalUsedTime;
            
            return {
                available: remainingTime >= taskDuration,
                remaining: remainingTime,
                used: totalUsedTime,
                limit: category.timeLimit,
                percentage: Math.round((totalUsedTime / category.timeLimit) * 100)
            };
        }

        // ========== Ø§Ù„ÙØ¦Ø§Øª ==========
        addCategory(category) {
            if (!category.id) category.id = Date.now().toString();
            if (!category.timeLimit) category.timeLimit = 60;
            if (!category.icon) category.icon = 'fas fa-tag';
            
            // Ø±Ø³Ø§Ø¦Ù„ ØªØ­ÙÙŠØ²ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            if (!category.emptyMessage) category.emptyMessage = `ÙØ¦Ø© ${category.name} ÙØ§Ø±ØºØ©ØŒ Ø£Ø¶Ù Ù…Ù‡Ø§Ù… Ù„Ù„Ø¨Ø¯Ø¡!`;
            if (!category.progressMessage) category.progressMessage = `Ù„Ø¯ÙŠÙƒ Ù…Ù‡Ø§Ù… ÙÙŠ ${category.name} ØªÙ†ØªØ¸Ø± Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²!`;
            if (!category.completedMessage) category.completedMessage = `Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø£Ù†Ø¬Ø²Øª Ø¬Ù…ÙŠØ¹ Ù…Ù‡Ø§Ù… ${category.name}!`;
            if (!category.fullMessage) category.fullMessage = `ÙØ¦Ø© ${category.name} Ù…Ù…ØªÙ„Ø¦Ø© Ø§Ù„ÙŠÙˆÙ…!`;
            if (!category.warningPercentage) category.warningPercentage = 80;
            
            this.categories.push(category);
            this.saveCategories();
            return category;
        }

        updateCategory(categoryId, updatedData) {
            const index = this.categories.findIndex(cat => cat.id === categoryId);
            if (index !== -1) {
                this.categories[index] = { ...this.categories[index], ...updatedData };
                this.saveCategories();
                return this.categories[index];
            }
            return null;
        }

        deleteCategory(categoryId) {
            const tasksInCategory = this.tasks.filter(task => task.categoryId === categoryId);
            if (tasksInCategory.length > 0) {
                return { success: false, message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù ÙØ¦Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ù‡Ø§Ù…' };
            }
            
            this.categories = this.categories.filter(cat => cat.id !== categoryId);
            this.saveCategories();
            return { success: true };
        }

        getCategories() {
            return Array.isArray(this.categories) ? [...this.categories] : [];
        }

        getCategoryById(categoryId) {
            return this.categories.find(cat => cat.id === categoryId);
        }

        saveCategories() {
            this.saveToStorage('categories', this.categories);
        }

        // ========== Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ==========
        addNote(note) {
            if (!note.id) note.id = Date.now().toString();
            note.createdAt = new Date().toISOString();
            note.updatedAt = note.createdAt;
            this.notes.push(note);
            this.saveNotes();
            return note;
        }

        updateNote(noteId, updatedData) {
            const index = this.notes.findIndex(note => note.id === noteId);
            if (index !== -1) {
                updatedData.updatedAt = new Date().toISOString();
                this.notes[index] = { ...this.notes[index], ...updatedData };
                this.saveNotes();
                return this.notes[index];
            }
            return null;
        }

        deleteNote(noteId) {
            this.notes = this.notes.filter(note => note.id !== noteId);
            this.saveNotes();
        }

        getNotes() {
            return [...this.notes].sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));
        }

        getNoteById(noteId) {
            return this.notes.find(note => note.id === noteId);
        }

        saveNotes() {
            this.saveToStorage('notes', this.notes);
        }

        // ========== Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª ==========
        addReminder(taskId, reminder) {
            reminder.id = Date.now().toString();
            reminder.taskId = taskId;
            reminder.createdAt = new Date().toISOString();
            this.reminders.push(reminder);
            this.saveReminders();
            return reminder;
        }

        getTaskReminders(taskId) {
            return this.reminders.filter(reminder => reminder.taskId === taskId);
        }

        deleteReminder(reminderId) {
            this.reminders = this.reminders.filter(r => r.id !== reminderId);
            this.saveReminders();
        }

        saveReminders() {
            this.saveToStorage('reminders', this.reminders);
        }

        // ========== Ø§Ù„Ø«ÙŠÙ…Ø§Øª ==========
        setTheme(themeName) {
            this.currentTheme = themeName;
            this.saveToStorage('theme', themeName);
            return themeName;
        }

        getTheme() {
            return this.currentTheme;
        }

        // ========== Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªØ­ÙÙŠØ² ==========
        getCategoryMotivation(categoryId) {
            const category = this.getCategoryById(categoryId);
            if (!category) return null;
            
            const today = this.getTodayDate();
            const categoryTasks = this.tasks.filter(task => 
                task.categoryId === categoryId && 
                task.startDate === today
            );
            
            const totalTasks = categoryTasks.length;
            const completedTasks = categoryTasks.filter(task => task.completed).length;
            const usedTime = categoryTasks.reduce((sum, task) => sum + (task.duration || 0), 0);
            const percentage = category.timeLimit ? Math.min(100, Math.round((usedTime / category.timeLimit) * 100)) : 0;
            
            let message = '';
            let type = '';
            
            if (totalTasks === 0) {
                message = category.emptyMessage;
                type = 'empty';
            } else if (completedTasks === totalTasks) {
                message = category.completedMessage;
                type = 'completed';
            } else if (percentage >= 100) {
                message = category.fullMessage;
                type = 'full';
            } else {
                message = category.progressMessage;
                type = 'progress';
            }
            
            return {
                message,
                type,
                totalTasks,
                completedTasks,
                usedTime,
                percentage,
                limit: category.timeLimit
            };
        }

        getAllMotivations() {
            const categories = this.getCategories();
            const motivations = [];
            
            categories.forEach(category => {
                const motivation = this.getCategoryMotivation(category.id);
                if (motivation) {
                    motivations.push({
                        categoryId: category.id,
                        categoryName: category.name,
                        ...motivation
                    });
                }
            });
            
            return motivations.filter(m => m.totalTasks > 0 || m.type === 'empty');
        }
    }

    // ========== ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ==========
    class UI {
        constructor(taskManager) {
            this.taskManager = taskManager;
            this.currentView = 'tasks';
            this.currentCalendarRange = 'daily';
            this.currentCalendarDate = new Date();
            this.editingCategoryId = null;
            this.editingTaskId = null;
            this.editingNoteId = null;
            this.currentFilters = {
                dateFilter: 'all',
                statusFilter: 'all',
                categoryFilter: 'all'
            };
            
            this.initializeElements();
            this.setupEventListeners();
            this.initializeApp();
        }

        initializeElements() {
            this.elements = {
                currentDate: document.getElementById('current-date'),
                currentViewTitle: document.getElementById('current-view-title'),
                addTaskBtn: document.getElementById('add-task-btn'),
                addNoteBtn: document.getElementById('add-note-btn'),
                
                // Ø§Ù„Ø«ÙŠÙ…Ø§Øª
                themeButtons: document.querySelectorAll('.theme-btn'),
                
                // Ø§Ù„Ù…Ù‡Ø§Ù…
                addTaskModal: document.getElementById('add-task-modal'),
                closeTaskModal: document.getElementById('close-task-modal'),
                saveTaskBtn: document.getElementById('save-task'),
                taskTitle: document.getElementById('task-title'),
                taskDescription: document.getElementById('task-description'),
                taskCategory: document.getElementById('task-category'),
                taskDuration: document.getElementById('task-duration'),
                taskStartDate: document.getElementById('task-start-date'),
                taskEndDate: document.getElementById('task-end-date'),
                taskStartTime: document.getElementById('task-start-time'),
                taskEndTime: document.getElementById('task-end-time'),
                cancelTask: document.getElementById('cancel-task'),
                timeCheckResult: document.getElementById('time-check-result'),
                motivationMessages: document.getElementById('motivation-messages'),
                
                // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©
                taskSettingsModal: document.getElementById('task-settings-modal'),
                closeTaskSettings: document.getElementById('close-task-settings'),
                taskSettingsTitle: document.getElementById('task-settings-title'),
                settingsTaskId: document.getElementById('settings-task-id'),
                settingsTitle: document.getElementById('settings-title'),
                settingsDescription: document.getElementById('settings-description'),
                settingsCategory: document.getElementById('settings-category'),
                settingsDuration: document.getElementById('settings-duration'),
                settingsPriority: document.getElementById('settings-priority'),
                settingsStartDate: document.getElementById('settings-start-date'),
                settingsEndDate: document.getElementById('settings-end-date'),
                settingsStartTime: document.getElementById('settings-start-time'),
                settingsEndTime: document.getElementById('settings-end-time'),
                settingsRecurrence: document.getElementById('settings-recurrence'),
                deleteTaskBtn: document.getElementById('delete-task-btn'),
                cancelTaskSettings: document.getElementById('cancel-task-settings'),
                saveTaskSettings: document.getElementById('save-task-settings'),
                
                // Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª
                reminderType: document.getElementById('reminder-type'),
                reminderTime: document.getElementById('reminder-time'),
                addReminderBtn: document.getElementById('add-reminder-btn'),
                remindersList: document.getElementById('reminders-list'),
                
                // Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
                tabButtons: document.querySelectorAll('.tab-btn'),
                tabContents: document.querySelectorAll('.tab-content'),
                
                // Ø§Ù„ÙØ¦Ø§Øª
                categoryModal: document.getElementById('category-modal'),
                categoryModalTitle: document.getElementById('category-modal-title'),
                closeCategoryModal: document.getElementById('close-category-modal'),
                saveCategoryBtn: document.getElementById('save-category'),
                categoryId: document.getElementById('category-id'),
                categoryName: document.getElementById('category-name'),
                categoryColor: document.getElementById('category-color'),
                categoryTimeLimit: document.getElementById('category-time-limit'),
                categoryIcon: document.getElementById('category-icon'),
                categoryEmptyMessage: document.getElementById('category-empty-message'),
                categoryProgressMessage: document.getElementById('category-progress-message'),
                categoryCompletedMessage: document.getElementById('category-completed-message'),
                categoryFullMessage: document.getElementById('category-full-message'),
                categoryWarningPercentage: document.getElementById('category-warning-percentage'),
                warningPercentageValue: document.getElementById('warning-percentage-value'),
                cancelCategory: document.getElementById('cancel-category'),
                addCategoryBtn: document.getElementById('add-category-btn'),
                
                // Ø§Ù„ÙÙ„Ø§ØªØ±
                dateFilter: document.getElementById('date-filter'),
                statusFilter: document.getElementById('status-filter'),
                categoryFilter: document.getElementById('category-filter'),
                clearFilters: document.getElementById('clear-filters'),
                
                // Ø§Ù„Ø¬Ø¯ÙˆÙ„
                timeNavigation: document.getElementById('time-navigation'),
                timeButtons: document.querySelectorAll('.time-btn'),
                calendarTitle: document.getElementById('calendar-title'),
                prevPeriod: document.getElementById('prev-period'),
                currentPeriod: document.getElementById('current-period'),
                nextPeriod: document.getElementById('next-period'),
                calendarBody: document.getElementById('calendar-body'),
                
                // Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
                notesEditor: document.getElementById('notes-editor'),
                editorToolbar: document.getElementById('editor-toolbar'),
                notesContent: document.getElementById('notes-content'),
                notesList: document.getElementById('notes-list'),
                noteModal: document.getElementById('note-modal'),
                noteModalTitle: document.getElementById('note-modal-title'),
                closeNoteModal: document.getElementById('close-note-modal'),
                modalNotesContent: document.getElementById('modal-notes-content'),
                cancelNote: document.getElementById('cancel-note'),
                saveNote: document.getElementById('save-note'),
                
                // Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø­Ø±Ø±
                editorButtons: document.querySelectorAll('.editor-btn[data-command]'),
                fontSize: document.getElementById('font-size'),
                textAlign: document.getElementById('text-align'),
                clearFormat: document.getElementById('clear-format'),
                modalFontSize: document.getElementById('modal-font-size'),
                modalTextAlign: document.getElementById('modal-text-align'),
                modalClearFormat: document.getElementById('modal-clear-format'),
                
                // Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
                navItems: document.querySelectorAll('.nav-item'),
                views: document.querySelectorAll('.view'),
                tasksList: document.getElementById('tasks-list'),
                statsGrid: document.getElementById('stats-grid'),
                categoriesList: document.getElementById('categories-list'),
                
                // Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø§Ù…Ø©
                taskTooltip: document.getElementById('task-tooltip')
            };
        }

        setupEventListeners() {
            // Ø§Ù„ØªÙ†Ù‚Ù„
            this.elements.navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.switchView(item.dataset.view);
                });
            });

            // Ø§Ù„Ø«ÙŠÙ…Ø§Øª
            this.elements.themeButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const theme = e.currentTarget.dataset.theme;
                    this.applyTheme(theme);
                });
            });

            // Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©
            this.elements.addTaskBtn.addEventListener('click', () => this.openAddTaskModal());
            this.elements.closeTaskModal.addEventListener('click', () => this.closeModal('add-task-modal'));
            this.elements.saveTaskBtn.addEventListener('click', () => this.saveTask());
            this.elements.cancelTask.addEventListener('click', () => this.closeModal('add-task-modal'));
            
            // Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
            this.elements.addNoteBtn.addEventListener('click', () => this.openNoteModal());
            this.elements.closeNoteModal.addEventListener('click', () => this.closeModal('note-modal'));
            this.elements.saveNote.addEventListener('click', () => this.saveNote());
            this.elements.cancelNote.addEventListener('click', () => this.closeModal('note-modal'));
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙˆÙ‚Øª
            this.elements.taskCategory.addEventListener('change', () => this.checkTimeAvailability());
            this.elements.taskDuration.addEventListener('input', () => this.checkTimeAvailability());
            this.elements.taskStartDate.addEventListener('change', () => this.checkTimeAvailability());
            
            // ØªØ­Ø¯ÙŠØ« ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
            this.elements.taskStartDate.addEventListener('change', () => {
                this.elements.taskEndDate.min = this.elements.taskStartDate.value;
                if (this.elements.taskEndDate.value < this.elements.taskStartDate.value) {
                    this.elements.taskEndDate.value = this.elements.taskStartDate.value;
                }
            });
            
            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©
            this.elements.closeTaskSettings.addEventListener('click', () => this.closeModal('task-settings-modal'));
            this.elements.deleteTaskBtn.addEventListener('click', () => this.deleteTask());
            this.elements.cancelTaskSettings.addEventListener('click', () => this.closeModal('task-settings-modal'));
            this.elements.saveTaskSettings.addEventListener('click', () => this.saveTaskSettings());
            
            // Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
            this.elements.tabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.dataset.tab;
                    this.switchTab(tabId);
                });
            });
            
            // Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª
            this.elements.addReminderBtn.addEventListener('click', () => this.addReminder());
            
            // Ø§Ù„ÙØ¦Ø§Øª
            this.elements.addCategoryBtn.addEventListener('click', () => this.openCategoryModal());
            this.elements.closeCategoryModal.addEventListener('click', () => this.closeModal('category-modal'));
            this.elements.saveCategoryBtn.addEventListener('click', () => this.saveCategory());
            this.elements.cancelCategory.addEventListener('click', () => this.closeModal('category-modal'));
            
            // Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­Ø°ÙŠØ±
            this.elements.categoryWarningPercentage.addEventListener('input', (e) => {
                this.elements.warningPercentageValue.textContent = `${e.target.value}%`;
            });
            
            // Ø§Ù„ÙÙ„Ø§ØªØ±
            this.elements.dateFilter.addEventListener('change', () => this.applyFilters());
            this.elements.statusFilter.addEventListener('change', () => this.applyFilters());
            this.elements.categoryFilter.addEventListener('change', () => this.applyFilters());
            this.elements.clearFilters.addEventListener('click', () => this.clearAllFilters());
            
            // Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
            this.elements.timeButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    this.currentCalendarRange = btn.dataset.range;
                    this.elements.timeButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    this.loadCalendarView();
                });
            });
            
            this.elements.prevPeriod.addEventListener('click', () => this.navigateCalendar(-1));
            this.elements.nextPeriod.addEventListener('click', () => this.navigateCalendar(1));
            this.elements.currentPeriod.addEventListener('click', () => this.resetCalendar());
            
            // Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø­Ø±Ø±
            this.setupEditorListeners();
        }

        setupEditorListeners() {
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ø³ÙŠÙ‚
            this.elements.editorButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const command = e.currentTarget.dataset.command;
                    document.execCommand(command, false, null);
                    this.updateEditorButtons();
                });
            });
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø©
            document.querySelectorAll('#editor-toolbar .editor-btn[data-command]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const command = e.currentTarget.dataset.command;
                    document.execCommand(command, false, null);
                });
            });
            
            // Ø­Ø¬Ù… Ø§Ù„Ø®Ø·
            this.elements.fontSize.addEventListener('change', (e) => {
                document.execCommand('fontSize', false, e.target.value);
            });
            
            this.elements.modalFontSize.addEventListener('change', (e) => {
                document.execCommand('fontSize', false, e.target.value);
            });
            
            // Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ
            this.elements.textAlign.addEventListener('change', (e) => {
                document.execCommand('justifyLeft', false, null);
                document.execCommand('justifyCenter', false, null);
                document.execCommand('justifyRight', false, null);
                document.execCommand('justifyFull', false, null);
                
                if (e.target.value === 'left') document.execCommand('justifyLeft', false, null);
                else if (e.target.value === 'center') document.execCommand('justifyCenter', false, null);
                else if (e.target.value === 'right') document.execCommand('justifyRight', false, null);
                else if (e.target.value === 'justify') document.execCommand('justifyFull', false, null);
            });
            
            this.elements.modalTextAlign.addEventListener('change', (e) => {
                document.execCommand('justifyLeft', false, null);
                document.execCommand('justifyCenter', false, null);
                document.execCommand('justifyRight', false, null);
                document.execCommand('justifyFull', false, null);
                
                if (e.target.value === 'left') document.execCommand('justifyLeft', false, null);
                else if (e.target.value === 'center') document.execCommand('justifyCenter', false, null);
                else if (e.target.value === 'right') document.execCommand('justifyRight', false, null);
                else if (e.target.value === 'justify') document.execCommand('justifyFull', false, null);
            });
            
            // Ù…Ø³Ø­ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚
            this.elements.clearFormat.addEventListener('click', () => {
                document.execCommand('removeFormat', false, null);
            });
            
            this.elements.modalClearFormat.addEventListener('click', () => {
                document.execCommand('removeFormat', false, null);
            });
        }

        updateEditorButtons() {
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ø³ÙŠÙ‚
            this.elements.editorButtons.forEach(btn => {
                const command = btn.dataset.command;
                btn.classList.toggle('active', document.queryCommandState(command));
            });
        }

        initializeApp() {
            console.log("ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...");
            this.updateDate();
            this.applyTheme(this.taskManager.getTheme());
            this.switchView('tasks');
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            const today = new Date().toISOString().split('T')[0];
            this.elements.taskStartDate.value = today;
            this.elements.taskEndDate.value = today;
            this.elements.taskStartDate.min = today;
            this.elements.taskEndDate.min = today;
        }

        updateDate() {
            const now = new Date();
            const arabicDate = now.toLocaleDateString('ar-SA', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            this.elements.currentDate.textContent = arabicDate;
        }

        applyTheme(themeName) {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            this.elements.themeButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.theme === themeName) {
                    btn.classList.add('active');
                }
            });
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø«ÙŠÙ…
            const root = document.documentElement;
            
            switch(themeName) {
                case 'light':
                    root.style.setProperty('--bg-color', '#f5f7fb');
                    root.style.setProperty('--card-bg', '#ffffff');
                    root.style.setProperty('--text-color', '#212529');
                    root.style.setProperty('--border-color', '#dee2e6');
                    root.style.setProperty('--hover-bg', '#f8f9fa');
                    break;
                case 'dark':
                    root.style.setProperty('--bg-color', '#121212');
                    root.style.setProperty('--card-bg', '#1e1e1e');
                    root.style.setProperty('--text-color', '#f8f9fa');
                    root.style.setProperty('--border-color', '#495057');
                    root.style.setProperty('--hover-bg', '#2d2d2d');
                    break;
                case 'blue':
                    root.style.setProperty('--bg-color', '#e7f5ff');
                    root.style.setProperty('--card-bg', '#ffffff');
                    root.style.setProperty('--text-color', '#1c7ed6');
                    root.style.setProperty('--border-color', '#a5d8ff');
                    root.style.setProperty('--hover-bg', '#d0ebff');
                    break;
                case 'green':
                    root.style.setProperty('--bg-color', '#ebfbee');
                    root.style.setProperty('--card-bg', '#ffffff');
                    root.style.setProperty('--text-color', '#2b8a3e');
                    root.style.setProperty('--border-color', '#b2f2bb');
                    root.style.setProperty('--hover-bg', '#d3f9d8');
                    break;
            }
            
            this.taskManager.setTheme(themeName);
        }

        switchView(viewName) {
            console.log("ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø¥Ù„Ù‰:", viewName);
            this.currentView = viewName;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„
            this.elements.navItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.view === viewName) {
                    item.classList.add('active');
                }
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
            const titles = {
                tasks: 'Ø§Ù„Ù…Ù‡Ø§Ù…',
                calendar: 'Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ',
                notes: 'Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª',
                stats: 'Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',
                categories: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª'
            };
            this.elements.currentViewTitle.textContent = titles[viewName];
            
            // Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            this.elements.addTaskBtn.style.display = (viewName === 'tasks') ? 'inline-flex' : 'none';
            this.elements.addNoteBtn.style.display = (viewName === 'notes') ? 'inline-flex' : 'none';
            
            // Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø´Ø±ÙŠØ· Ø§Ù„ÙˆÙ‚Øª
            this.elements.timeNavigation.style.display = (viewName === 'calendar') ? 'flex' : 'none';
            
            // Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ù…Ø­Ø±Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø¯Ù…Ø¬
            this.elements.notesEditor.style.display = (viewName === 'notes') ? 'block' : 'none';
            
            // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ø±ÙˆØ¶
            this.elements.views.forEach(view => {
                view.classList.remove('active-view');
                if (view.id === `${viewName}-view`) {
                    view.classList.add('active-view');
                }
            });
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            switch(viewName) {
                case 'tasks':
                    this.loadTasksView();
                    break;
                case 'calendar':
                    this.loadCalendarView();
                    break;
                case 'notes':
                    this.loadNotesView();
                    break;
                case 'stats':
                    this.loadStatsView();
                    break;
                case 'categories':
                    this.loadCategoriesView();
                    break;
            }
        }

        switchTab(tabId) {
            this.elements.tabButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.tab === tabId) {
                    btn.classList.add('active');
                }
            });
            
            this.elements.tabContents.forEach(content => {
                content.classList.remove('active');
                if (content.id === `${tabId}-tab`) {
                    content.classList.add('active');
                }
            });
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‡Ø§Ù…
        loadTasksView() {
            console.log("ØªØ­Ù…ÙŠÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù…...");
            
            // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙÙ„Ø§ØªØ±
            this.updateFilterOptions();
            
            const tasks = this.taskManager.getTasks(this.currentFilters);
            
            // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­ÙÙŠØ²
            this.showMotivationMessages();
            
            if (!tasks || tasks.length === 0) {
                this.elements.tasksList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-tasks fa-3x"></i>
                        <h4>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù…</h4>
                        <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©" Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù‡Ù…ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            const today = this.taskManager.getTodayDate();
            
            tasks.forEach(task => {
                const category = this.taskManager.getCategoryById(task.categoryId);
                
                let timeStatus = '';
                if (task.completed) {
                    timeStatus = `<span class="time-indicator" style="background: #d4edda; color: #155724;">Ù…ÙƒØªÙ…Ù„Ø©</span>`;
                } else if (task.endDate < today) {
                    timeStatus = `<span class="time-indicator time-overdue">Ù…ØªØ£Ø®Ø±Ø©</span>`;
                } else if (task.startDate === today) {
                    timeStatus = `<span class="time-indicator time-soon">Ø§Ù„ÙŠÙˆÙ…</span>`;
                } else if (task.startDate > today) {
                    const daysDiff = Math.ceil((new Date(task.startDate) - new Date(today)) / (1000 * 60 * 60 * 24));
                    timeStatus = `<span class="time-indicator time-future">Ø¨Ø¹Ø¯ ${daysDiff} ÙŠÙˆÙ…</span>`;
                }
                
                html += `
                    <div class="task-item ${task.completed ? 'completed' : ''}" data-id="${task.id}" style="border-right-color: ${category?.color || '#4361ee'}">
                        <input type="checkbox" class="task-checkbox" ${task.completed ? 'checked' : ''}>
                        <div class="task-content">
                            <div class="task-title">${task.title || 'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†'} ${timeStatus}</div>
                            ${task.description ? `<div class="task-description">${task.description}</div>` : ''}
                            <div class="task-meta">
                                <span><i class="fas fa-tag" style="color: ${category?.color || '#000'}"></i> ${category?.name || 'Ø¹Ø§Ù…'}</span>
                                <span><i class="fas fa-clock"></i> ${task.duration || 30} Ø¯Ù‚ÙŠÙ‚Ø©</span>
                                <span><i class="fas fa-calendar"></i> ${this.formatArabicDate(task.startDate)}</span>
                                ${task.startTime ? `<span><i class="fas fa-clock"></i> ${task.startTime}</span>` : ''}
                                ${task.priority === 'high' ? '<span style="color: #f72585;"><i class="fas fa-exclamation-circle"></i> Ø¹Ø§Ù„ÙŠØ©</span>' : ''}
                                ${task.priority === 'medium' ? '<span style="color: #f8961e;"><i class="fas fa-exclamation-circle"></i> Ù…ØªÙˆØ³Ø·Ø©</span>' : ''}
                            </div>
                        </div>
                        <div class="task-actions">
                            <button class="btn btn-sm btn-info edit-task" data-id="${task.id}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger delete-task" data-id="${task.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            
            this.elements.tasksList.innerHTML = html;
            
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ù‡Ø§Ù…
            document.querySelectorAll('.task-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', (e) => {
                    const taskId = e.target.closest('.task-item').dataset.id;
                    this.taskManager.toggleTaskCompletion(taskId);
                    this.loadTasksView();
                });
            });
            
            document.querySelectorAll('.delete-task').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const taskId = e.target.closest('button').dataset.id;
                    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ')) {
                        this.taskManager.deleteTask(taskId);
                        this.loadTasksView();
                    }
                });
            });
            
            document.querySelectorAll('.edit-task').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const taskId = e.target.closest('button').dataset.id;
                    this.openTaskSettings(taskId);
                });
            });
            
            // ÙØªØ­ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡Ø§
            document.querySelectorAll('.task-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    if (!e.target.closest('.task-actions') && !e.target.classList.contains('task-checkbox')) {
                        const taskId = item.dataset.id;
                        this.openTaskSettings(taskId);
                    }
                });
            });
        }

        showMotivationMessages() {
            const motivations = this.taskManager.getAllMotivations();
            const container = this.elements.motivationMessages;
            
            if (motivations.length === 0) {
                container.innerHTML = '';
                return;
            }
            
            let html = '';
            
            motivations.forEach(motivation => {
                const typeClass = `motivation-${motivation.type}`;
                const icon = motivation.type === 'empty' ? 'fas fa-bell' :
                           motivation.type === 'progress' ? 'fas fa-hourglass-half' :
                           motivation.type === 'completed' ? 'fas fa-check-circle' :
                           'fas fa-exclamation-triangle';
                
                html += `
                    <div class="motivation-message ${typeClass}">
                        <i class="${icon} fa-2x"></i>
                        <div>
                            <strong>${motivation.categoryName}:</strong> ${motivation.message}
                            ${motivation.percentage > 0 ? `<br><small>${motivation.usedTime}/${motivation.limit} Ø¯Ù‚ÙŠÙ‚Ø© (${motivation.percentage}%)</small>` : ''}
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        updateFilterOptions() {
            const categorySelect = this.elements.categoryFilter;
            categorySelect.innerHTML = '<option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</option>';
            
            const categories = this.taskManager.getCategories();
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                option.selected = this.currentFilters.categoryFilter === category.id;
                categorySelect.appendChild(option);
            });
            
            this.elements.dateFilter.value = this.currentFilters.dateFilter;
            this.elements.statusFilter.value = this.currentFilters.statusFilter;
        }

        applyFilters() {
            this.currentFilters = {
                dateFilter: this.elements.dateFilter.value,
                statusFilter: this.elements.statusFilter.value,
                categoryFilter: this.elements.categoryFilter.value
            };
            
            this.loadTasksView();
        }

        clearAllFilters() {
            this.currentFilters = {
                dateFilter: 'all',
                statusFilter: 'all',
                categoryFilter: 'all'
            };
            
            this.loadTasksView();
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
        loadCalendarView() {
            console.log("ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ:", this.currentCalendarRange);
            
            let title = '';
            let content = '';
            
            switch(this.currentCalendarRange) {
                case 'daily':
                    title = this.getArabicDateString(this.currentCalendarDate);
                    content = this.generateDailyView(this.currentCalendarDate);
                    break;
                case 'weekly':
                    const weekRange = this.getWeekRange(this.currentCalendarDate);
                    title = `Ø£Ø³Ø¨ÙˆØ¹ ${this.formatArabicDate(weekRange.start)} - ${this.formatArabicDate(weekRange.end)}`;
                    content = this.generateWeeklyView(this.currentCalendarDate);
                    break;
                case 'monthly':
                    const monthName = this.currentCalendarDate.toLocaleDateString('ar-SA', { month: 'long', year: 'numeric' });
                    title = monthName;
                    content = this.generateMonthlyView(this.currentCalendarDate);
                    break;
            }
            
            this.elements.calendarTitle.textContent = title;
            this.elements.currentPeriod.textContent = this.currentCalendarRange === 'daily' ? 'Ø§Ù„ÙŠÙˆÙ…' : 
                                                   this.currentCalendarRange === 'weekly' ? 'Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹' : 'Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±';
            this.elements.calendarBody.innerHTML = content;
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ù…Ù‡Ø§Ù… ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
            this.addCalendarTaskEvents();
        }

        generateDailyView(date) {
            const dateStr = date.toISOString().split('T')[0];
            const tasks = this.taskManager.getTasks({ dateFilter: 'today' }).filter(task => 
                task.startDate === dateStr || task.endDate === dateStr
            );
            
            let html = '<div class="daily-view">';
            
            // Ø¥Ù†Ø´Ø§Ø¡ ÙØªØ±Ø§Øª Ø²Ù…Ù†ÙŠØ© Ù„Ù€ 24 Ø³Ø§Ø¹Ø©
            for (let hour = 0; hour < 24; hour++) {
                const timeLabel = `${hour.toString().padStart(2, '0')}:00`;
                const hourTasks = tasks.filter(task => {
                    if (!task.startTime) return false;
                    const taskHour = parseInt(task.startTime.split(':')[0]);
                    return taskHour === hour;
                });
                
                html += `
                    <div class="time-slot">
                        <div class="time-label">${timeLabel}</div>
                        <div class="time-tasks">
                            ${hourTasks.map(task => {
                                const category = this.taskManager.getCategoryById(task.categoryId);
                                return `
                                    <div class="calendar-task" 
                                         data-id="${task.id}"
                                         style="background: ${category?.color || '#4361ee'}"
                                         onmouseover="ui.showTaskTooltip(event, '${task.id}')"
                                         onmouseout="ui.hideTaskTooltip()">
                                        ${task.title} (${task.duration} Ø¯Ù‚ÙŠÙ‚Ø©)
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            }
            
            html += '</div>';
            return html;
        }

        generateWeeklyView(date) {
            const weekStart = new Date(date);
            weekStart.setDate(weekStart.getDate() - weekStart.getDay());
            const today = new Date().toISOString().split('T')[0];
            
            let html = '<div class="weekly-view">';
            
            const days = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
            
            for (let i = 0; i < 7; i++) {
                const currentDay = new Date(weekStart);
                currentDay.setDate(currentDay.getDate() + i);
                const dateStr = currentDay.toISOString().split('T')[0];
                const dayName = days[i];
                const isToday = dateStr === today;
                
                const dayTasks = this.taskManager.getTasks().filter(task => task.startDate === dateStr);
                
                html += `
                    <div class="day-column ${isToday ? 'day-today' : ''}">
                        <div class="day-header">
                            ${dayName}<br>
                            <small>${currentDay.getDate()}/${currentDay.getMonth() + 1}</small>
                        </div>
                        <div class="day-tasks">
                            ${dayTasks.map(task => {
                                const category = this.taskManager.getCategoryById(task.categoryId);
                                return `
                                    <div class="calendar-task" 
                                         data-id="${task.id}"
                                         style="background: ${category?.color || '#4361ee'}; margin-bottom: 5px;"
                                         onmouseover="ui.showTaskTooltip(event, '${task.id}')"
                                         onmouseout="ui.hideTaskTooltip()">
                                        ${task.title} ${task.startTime ? `(${task.startTime})` : ''}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            }
            
            html += '</div>';
            return html;
        }

        generateMonthlyView(date) {
            const year = date.getFullYear();
            const month = date.getMonth();
            const today = new Date().toISOString().split('T')[0];
            
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const firstDayOfWeek = firstDay.getDay();
            
            let html = '<div class="monthly-view">';
            
            const dayHeaders = ['Ø£Ø­Ø¯', 'Ø¥Ø«Ù†ÙŠÙ†', 'Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø®Ù…ÙŠØ³', 'Ø¬Ù…Ø¹Ø©', 'Ø³Ø¨Øª'];
            dayHeaders.forEach(day => {
                html += `<div class="month-day-header" style="text-align: center; font-weight: bold;">${day}</div>`;
            });
            
            const prevMonthLastDay = new Date(year, month, 0).getDate();
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {
                const day = prevMonthLastDay - i;
                html += `<div class="month-day other-month">${day}</div>`;
            }
            
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const isToday = dateStr === today;
                
                const dayTasks = this.taskManager.getTasks().filter(task => task.startDate === dateStr);
                
                html += `
                    <div class="month-day">
                        <div class="month-day-header">
                            <span class="day-number">${day}</span>
                            ${isToday ? '<span class="today-indicator">'+day+'</span>' : ''}
                        </div>
                        ${dayTasks.slice(0, 3).map(task => {
                            const category = this.taskManager.getCategoryById(task.categoryId);
                            return `
                                <div class="calendar-task" 
                                     data-id="${task.id}"
                                     style="background: ${category?.color || '#4361ee'}; 
                                            font-size: 0.7rem; 
                                            padding: 2px 5px; 
                                            margin-bottom: 2px;"
                                     onmouseover="ui.showTaskTooltip(event, '${task.id}')"
                                     onmouseout="ui.hideTaskTooltip()">
                                    ${task.title}
                                </div>
                            `;
                        }).join('')}
                        ${dayTasks.length > 3 ? `<small style="color: var(--gray);">+ ${dayTasks.length - 3} Ù…Ù‡Ù…Ø©</small>` : ''}
                    </div>
                `;
            }
            
            html += '</div>';
            return html;
        }

        showTaskTooltip(event, taskId) {
            const task = this.taskManager.getTaskById(taskId);
            if (!task) return;
            
            const category = this.taskManager.getCategoryById(task.categoryId);
            const tooltip = this.elements.taskTooltip;
            
            let content = `
                <h4>${task.title}</h4>
                ${task.description ? `<p>${task.description}</p>` : ''}
                <div class="tooltip-meta">
                    <span><i class="fas fa-tag" style="color: ${category?.color || '#000'}"></i> ${category?.name || 'Ø¹Ø§Ù…'}</span>
                    <span><i class="fas fa-clock"></i> ${task.duration} Ø¯Ù‚ÙŠÙ‚Ø©</span>
                    <span><i class="fas fa-calendar"></i> ${this.formatArabicDate(task.startDate)}</span>
                    ${task.startTime ? `<span><i class="fas fa-clock"></i> ${task.startTime}</span>` : ''}
                    <span><i class="fas ${task.completed ? 'fa-check-circle' : 'fa-hourglass-half'}"></i> ${task.completed ? 'Ù…ÙƒØªÙ…Ù„Ø©' : 'Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°'}</span>
                </div>
                <small>Ø§Ù†Ù‚Ø± Ù„Ù„ØªØ¹Ø¯ÙŠÙ„</small>
            `;
            
            tooltip.innerHTML = content;
            tooltip.style.display = 'block';
            
            // ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ù†ØµØ±
            const rect = event.target.getBoundingClientRect();
            tooltip.style.top = `${rect.top + window.scrollY - tooltip.offsetHeight - 10}px`;
            tooltip.style.left = `${rect.left + window.scrollX + rect.width / 2 - tooltip.offsetWidth / 2}px`;
            
            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø£Ø¯Ø§Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†Ø§ÙØ°Ø©
            if (parseInt(tooltip.style.left) < 10) {
                tooltip.style.left = '10px';
            }
            
            if (parseInt(tooltip.style.left) + tooltip.offsetWidth > window.innerWidth) {
                tooltip.style.left = `${window.innerWidth - tooltip.offsetWidth - 10}px`;
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø±
            event.target.addEventListener('click', () => {
                this.openTaskSettings(taskId);
            }, { once: true });
        }

        hideTaskTooltip() {
            this.elements.taskTooltip.style.display = 'none';
        }

        addCalendarTaskEvents() {
            document.querySelectorAll('.calendar-task').forEach(taskElement => {
                taskElement.addEventListener('click', (e) => {
                    const taskId = e.currentTarget.dataset.id;
                    this.openTaskSettings(taskId);
                });
            });
        }

        navigateCalendar(direction) {
            switch(this.currentCalendarRange) {
                case 'daily':
                    this.currentCalendarDate.setDate(this.currentCalendarDate.getDate() + direction);
                    break;
                case 'weekly':
                    this.currentCalendarDate.setDate(this.currentCalendarDate.getDate() + (direction * 7));
                    break;
                case 'monthly':
                    this.currentCalendarDate.setMonth(this.currentCalendarDate.getMonth() + direction);
                    break;
            }
            
            this.loadCalendarView();
        }

        resetCalendar() {
            this.currentCalendarDate = new Date();
            this.loadCalendarView();
        }

        getWeekRange(date) {
            const start = new Date(date);
            start.setDate(start.getDate() - start.getDay());
            const end = new Date(start);
            end.setDate(end.getDate() + 6);
            
            return {
                start: start.toISOString().split('T')[0],
                end: end.toISOString().split('T')[0]
            };
        }

        getArabicDateString(date) {
            return date.toLocaleDateString('ar-SA', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }

        formatArabicDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('ar-SA');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
        loadNotesView() {
            const notes = this.taskManager.getNotes();
            
            if (!notes || notes.length === 0) {
                this.elements.notesList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-sticky-note fa-3x"></i>
                        <h4>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h4>
                        <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©" Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            notes.forEach(note => {
                const date = new Date(note.updatedAt);
                const dateStr = date.toLocaleDateString('ar-SA', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰
                let title = note.title || 'Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†';
                if (!note.title && note.content) {
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = note.content;
                    const text = tempDiv.textContent || tempDiv.innerText || '';
                    title = text.substring(0, 30) + (text.length > 30 ? '...' : '');
                }
                
                html += `
                    <div class="note-item" data-id="${note.id}">
                        <div class="note-header">
                            <h4 style="margin: 0; color: var(--primary);">${title}</h4>
                            <div class="note-actions">
                                <button class="btn btn-sm btn-info edit-note" data-id="${note.id}">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-sm btn-danger delete-note" data-id="${note.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="note-date">Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„: ${dateStr}</div>
                        <div class="note-content">${note.content}</div>
                    </div>
                `;
            });
            
            this.elements.notesList.innerHTML = html;
            
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
            document.querySelectorAll('.edit-note').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const noteId = e.target.closest('button').dataset.id;
                    this.openNoteModal(noteId);
                });
            });
            
            document.querySelectorAll('.delete-note').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const noteId = e.target.closest('button').dataset.id;
                    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ')) {
                        this.taskManager.deleteNote(noteId);
                        this.loadNotesView();
                    }
                });
            });
            
            // ÙØªØ­ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡Ø§
            document.querySelectorAll('.note-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    if (!e.target.closest('.note-actions')) {
                        const noteId = item.dataset.id;
                        this.openNoteModal(noteId);
                    }
                });
            });
        }

        openNoteModal(noteId = null) {
            this.editingNoteId = noteId;
            
            if (noteId) {
                const note = this.taskManager.getNoteById(noteId);
                if (note) {
                    this.elements.noteModalTitle.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©';
                    this.elements.modalNotesContent.innerHTML = note.content;
                }
            } else {
                this.elements.noteModalTitle.textContent = 'Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©';
                this.elements.modalNotesContent.innerHTML = '';
            }
            
            this.elements.noteModal.classList.add('active');
        }

        saveNote() {
            const content = this.elements.modalNotesContent.innerHTML.trim();
            
            if (!content) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ù…Ù„Ø§Ø­Ø¸Ø©');
                return;
            }
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            const text = tempDiv.textContent || tempDiv.innerText || '';
            const title = text.substring(0, 30) + (text.length > 30 ? '...' : '');
            
            const noteData = {
                title: title,
                content: content
            };
            
            if (this.editingNoteId) {
                this.taskManager.updateNote(this.editingNoteId, noteData);
            } else {
                this.taskManager.addNote(noteData);
            }
            
            this.closeModal('note-modal');
            this.loadNotesView();
            this.editingNoteId = null;
        }

        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©
        openAddTaskModal() {
            this.loadCategoryOptions(this.elements.taskCategory);
            
            const today = this.taskManager.getTodayDate();
            this.elements.taskStartDate.value = today;
            this.elements.taskEndDate.value = today;
            this.elements.taskStartTime.value = '';
            this.elements.taskEndTime.value = '';
            this.elements.taskTitle.value = '';
            this.elements.taskDescription.value = '';
            this.elements.taskDuration.value = '30';
            this.elements.timeCheckResult.innerHTML = '';
            
            this.elements.addTaskModal.classList.add('active');
        }

        checkTimeAvailability() {
            const categoryId = this.elements.taskCategory.value;
            const duration = parseInt(this.elements.taskDuration.value) || 0;
            const date = this.elements.taskStartDate.value;
            
            if (!categoryId || duration <= 0 || !date) {
                this.elements.timeCheckResult.innerHTML = '';
                return;
            }
            
            const timeCheck = this.taskManager.checkCategoryTimeAvailability(categoryId, duration, date);
            const category = this.taskManager.getCategoryById(categoryId);
            
            let message = '';
            let alertClass = '';
            
            if (timeCheck.available) {
                alertClass = 'alert-success';
                message = `
                    <i class="fas fa-check-circle"></i>
                    Ø§Ù„ÙˆÙ‚Øª Ù…ØªØ§Ø­! ${timeCheck.remaining} Ø¯Ù‚ÙŠÙ‚Ø© Ù…ØªØ¨Ù‚ÙŠØ© ÙÙŠ ÙØ¦Ø© "${category.name}"
                `;
            } else {
                alertClass = 'alert-danger';
                message = `
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­ØµØ©!</strong> ØªØ­ØªØ§Ø¬ ${duration} Ø¯Ù‚ÙŠÙ‚Ø© Ù„ÙƒÙ† Ø§Ù„Ù…ØªØ§Ø­ ÙÙ‚Ø· ${timeCheck.remaining} Ø¯Ù‚ÙŠÙ‚Ø© ÙÙŠ ÙØ¦Ø© "${category.name}"
                `;
            }
            
            this.elements.timeCheckResult.innerHTML = `
                <div class="alert ${alertClass}">
                    ${message}
                </div>
            `;
        }

        loadCategoryOptions(selectElement) {
            const categories = this.taskManager.getCategories();
            selectElement.innerHTML = '';
            
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                selectElement.appendChild(option);
            });
            
            if (categories.length === 0) {
                const option = document.createElement('option');
                option.value = 'general';
                option.textContent = 'Ø¹Ø§Ù…';
                selectElement.appendChild(option);
            }
            
            if (selectElement === this.elements.taskCategory) {
                setTimeout(() => this.checkTimeAvailability(), 100);
            }
        }

        saveTask() {
            const title = this.elements.taskTitle.value.trim();
            if (!title) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©');
                return;
            }
            
            const duration = parseInt(this.elements.taskDuration.value) || 0;
            if (duration <= 0) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¯Ø© ØµØ­ÙŠØ­Ø© Ù„Ù„Ù…Ù‡Ù…Ø©');
                return;
            }
            
            const categoryId = this.elements.taskCategory.value;
            if (!categoryId) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ÙØ¦Ø© Ù„Ù„Ù…Ù‡Ù…Ø©');
                return;
            }
            
            const startDate = this.elements.taskStartDate.value;
            const endDate = this.elements.taskEndDate.value;
            
            if (!startDate || !endDate) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ®ÙŠ Ø§Ù„Ø¨Ø¯Ø¡ ÙˆØ§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡');
                return;
            }
            
            const timeCheck = this.taskManager.checkCategoryTimeAvailability(categoryId, duration, startDate);
            if (!timeCheck.available) {
                alert(`Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©. Ø§Ù„Ø­ØµØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„Ù„ÙØ¦Ø© Ù…Ù…ØªÙ„Ø¦Ø©. Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ§Ø­: ${timeCheck.remaining} Ø¯Ù‚ÙŠÙ‚Ø© ÙÙ‚Ø·`);
                return;
            }
            
            const task = {
                id: Date.now().toString(),
                title: title,
                description: this.elements.taskDescription.value.trim(),
                categoryId: categoryId,
                duration: duration,
                startDate: startDate,
                endDate: endDate,
                startTime: this.elements.taskStartTime.value || null,
                endTime: this.elements.taskEndTime.value || null,
                completed: false,
                priority: 'medium',
                recurrence: 'none',
                createdAt: new Date().toISOString()
            };
            
            this.taskManager.addTask(task);
            this.closeModal('add-task-modal');
            
            if (this.currentView === 'tasks') {
                this.loadTasksView();
            } else if (this.currentView === 'calendar') {
                this.loadCalendarView();
            } else if (this.currentView === 'stats') {
                this.loadStatsView();
            }
        }

        openTaskSettings(taskId) {
            this.editingTaskId = taskId;
            const task = this.taskManager.getTaskById(taskId);
            
            if (!task) {
                alert('Ø§Ù„Ù…Ù‡Ù…Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
                return;
            }
            
            this.elements.taskSettingsTitle.textContent = `Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª: ${task.title}`;
            this.elements.settingsTaskId.value = task.id;
            this.elements.settingsTitle.value = task.title;
            this.elements.settingsDescription.value = task.description || '';
            
            this.loadCategoryOptions(this.elements.settingsCategory);
            this.elements.settingsCategory.value = task.categoryId;
            
            this.elements.settingsDuration.value = task.duration || 30;
            this.elements.settingsPriority.value = task.priority || 'medium';
            this.elements.settingsStartDate.value = task.startDate;
            this.elements.settingsEndDate.value = task.endDate;
            this.elements.settingsStartTime.value = task.startTime || '';
            this.elements.settingsEndTime.value = task.endTime || '';
            this.elements.settingsRecurrence.value = task.recurrence || 'none';
            
            this.loadReminders(taskId);
            this.switchTab('basic');
            this.elements.taskSettingsModal.classList.add('active');
        }

        loadReminders(taskId) {
            const reminders = this.taskManager.getTaskReminders(taskId);
            const listElement = this.elements.remindersList;
            
            if (reminders.length === 0) {
                listElement.innerHTML = '<p style="color: var(--gray); text-align: center; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ°ÙƒÙŠØ±Ø§Øª</p>';
                return;
            }
            
            let html = '';
            reminders.forEach(reminder => {
                const typeText = reminder.type === 'notification' ? 'Ø¥Ø´Ø¹Ø§Ø±' : 
                               reminder.type === 'email' ? 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' : 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ† Ù…Ø¹Ø§Ù‹';
                
                html += `
                    <div class="reminder-item">
                        <div class="reminder-icon" style="background: ${reminder.type === 'notification' ? '#4361ee' : reminder.type === 'email' ? '#f72585' : '#7209b7'}">
                            <i class="${reminder.type === 'notification' ? 'fas fa-bell' : 'fas fa-envelope'}"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: bold;">${typeText}</div>
                            <div style="font-size: 0.85rem; color: #6c757d;">${reminder.time} Ø¯Ù‚ÙŠÙ‚Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯</div>
                        </div>
                        <button class="btn btn-sm btn-danger delete-reminder" data-id="${reminder.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
            });
            
            listElement.innerHTML = html;
            
            document.querySelectorAll('.delete-reminder').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const reminderId = e.target.closest('button').dataset.id;
                    this.taskManager.deleteReminder(reminderId);
                    this.loadReminders(this.editingTaskId);
                });
            });
        }

        addReminder() {
            const type = this.elements.reminderType.value;
            const time = this.elements.reminderTime.value;
            
            if (!this.editingTaskId) {
                alert('ÙŠØ±Ø¬Ù‰ Ø­ÙØ¸ Ø§Ù„Ù…Ù‡Ù…Ø© Ø£ÙˆÙ„Ø§Ù‹ Ù‚Ø¨Ù„ Ø¥Ø¶Ø§ÙØ© ØªØ°ÙƒÙŠØ±Ø§Øª');
                return;
            }
            
            const reminder = {
                type: type,
                time: time
            };
            
            this.taskManager.addReminder(this.editingTaskId, reminder);
            this.loadReminders(this.editingTaskId);
            
            this.elements.reminderType.value = 'notification';
            this.elements.reminderTime.value = '5';
        }

        saveTaskSettings() {
            const taskId = this.elements.settingsTaskId.value;
            const task = this.taskManager.getTaskById(taskId);
            
            if (!task) {
                alert('Ø§Ù„Ù…Ù‡Ù…Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
                return;
            }
            
            const updatedTask = {
                title: this.elements.settingsTitle.value.trim(),
                description: this.elements.settingsDescription.value.trim(),
                categoryId: this.elements.settingsCategory.value,
                duration: parseInt(this.elements.settingsDuration.value) || 30,
                priority: this.elements.settingsPriority.value,
                startDate: this.elements.settingsStartDate.value,
                endDate: this.elements.settingsEndDate.value,
                startTime: this.elements.settingsStartTime.value || null,
                endTime: this.elements.settingsEndTime.value || null,
                recurrence: this.elements.settingsRecurrence.value
            };
            
            if (updatedTask.categoryId !== task.categoryId || 
                updatedTask.startDate !== task.startDate || 
                updatedTask.duration !== task.duration) {
                
                const timeCheck = this.taskManager.checkCategoryTimeAvailability(
                    updatedTask.categoryId, 
                    updatedTask.duration, 
                    updatedTask.startDate,
                    taskId
                );
                
                if (!timeCheck.available) {
                    alert(`Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù‡Ù…Ø©. Ø§Ù„Ø­ØµØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„Ù„ÙØ¦Ø© Ù…Ù…ØªÙ„Ø¦Ø©. Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ§Ø­: ${timeCheck.remaining} Ø¯Ù‚ÙŠÙ‚Ø© ÙÙ‚Ø·`);
                    return;
                }
            }
            
            this.taskManager.updateTask(taskId, updatedTask);
            this.closeModal('task-settings-modal');
            
            if (this.currentView === 'tasks') {
                this.loadTasksView();
            } else if (this.currentView === 'calendar') {
                this.loadCalendarView();
            } else if (this.currentView === 'stats') {
                this.loadStatsView();
            }
        }

        deleteTask() {
            const taskId = this.elements.settingsTaskId.value;
            
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ')) {
                this.taskManager.deleteTask(taskId);
                this.closeModal('task-settings-modal');
                
                if (this.currentView === 'tasks') {
                    this.loadTasksView();
                } else if (this.currentView === 'calendar') {
                    this.loadCalendarView();
                } else if (this.currentView === 'stats') {
                    this.loadStatsView();
                }
            }
        }

        openCategoryModal(categoryId = null) {
            this.editingCategoryId = categoryId;
            
            if (categoryId) {
                this.elements.categoryModalTitle.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙØ¦Ø©';
                const category = this.taskManager.getCategoryById(categoryId);
                if (category) {
                    this.elements.categoryId.value = category.id;
                    this.elements.categoryName.value = category.name;
                    this.elements.categoryColor.value = category.color || '#4361ee';
                    this.elements.categoryTimeLimit.value = category.timeLimit || 60;
                    this.elements.categoryIcon.value = category.icon || 'fas fa-tag';
                    this.elements.categoryEmptyMessage.value = category.emptyMessage || '';
                    this.elements.categoryProgressMessage.value = category.progressMessage || '';
                    this.elements.categoryCompletedMessage.value = category.completedMessage || '';
                    this.elements.categoryFullMessage.value = category.fullMessage || '';
                    this.elements.categoryWarningPercentage.value = category.warningPercentage || 80;
                    this.elements.warningPercentageValue.textContent = `${category.warningPercentage || 80}%`;
                }
            } else {
                this.elements.categoryModalTitle.textContent = 'Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©';
                this.elements.categoryId.value = '';
                this.elements.categoryName.value = '';
                this.elements.categoryColor.value = '#4361ee';
                this.elements.categoryTimeLimit.value = 60;
                this.elements.categoryIcon.value = 'fas fa-tag';
                this.elements.categoryEmptyMessage.value = '';
                this.elements.categoryProgressMessage.value = '';
                this.elements.categoryCompletedMessage.value = '';
                this.elements.categoryFullMessage.value = '';
                this.elements.categoryWarningPercentage.value = 80;
                this.elements.warningPercentageValue.textContent = '80%';
            }
            
            this.elements.categoryModal.classList.add('active');
        }

        editCategory(categoryId) {
            this.openCategoryModal(categoryId);
        }

        saveCategory() {
            const name = this.elements.categoryName.value.trim();
            if (!name) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø©');
                return;
            }
            
            const timeLimit = parseInt(this.elements.categoryTimeLimit.value) || 0;
            if (timeLimit <= 0) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø­ØµØ© Ø²Ù…Ù†ÙŠØ© ØµØ­ÙŠØ­Ø©');
                return;
            }
            
            const categoryData = {
                name: name,
                color: this.elements.categoryColor.value,
                timeLimit: timeLimit,
                icon: this.elements.categoryIcon.value,
                emptyMessage: this.elements.categoryEmptyMessage.value,
                progressMessage: this.elements.categoryProgressMessage.value,
                completedMessage: this.elements.categoryCompletedMessage.value,
                fullMessage: this.elements.categoryFullMessage.value,
                warningPercentage: parseInt(this.elements.categoryWarningPercentage.value) || 80
            };
            
            if (this.editingCategoryId) {
                this.taskManager.updateCategory(this.editingCategoryId, categoryData);
            } else {
                categoryData.id = Date.now().toString();
                this.taskManager.addCategory(categoryData);
            }
            
            this.closeModal('category-modal');
            
            if (this.currentView === 'categories') {
                this.loadCategoriesView();
            } else if (this.currentView === 'stats') {
                this.loadStatsView();
            } else if (this.currentView === 'tasks') {
                this.loadTasksView();
            }
            
            this.editingCategoryId = null;
        }

        deleteCategory(categoryId) {
            const result = this.taskManager.deleteCategory(categoryId);
            
            if (result.success) {
                this.loadCategoriesView();
                this.loadCategoryOptions(this.elements.taskCategory);
                this.loadCategoryOptions(this.elements.settingsCategory);
                this.updateFilterOptions();
            } else {
                alert(result.message);
            }
        }

        closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
    }

    // ========== Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ==========
    let taskManager, ui;
    
    document.addEventListener('DOMContentLoaded', () => {
        console.log("Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...");
        
        try {
            taskManager = new TaskManager();
            ui = new UI(taskManager);
            
            console.log("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­!");
            
            // Ø¬Ø¹Ù„ ui Ù…ØªØ§Ø­Ø§Ù‹ Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            window.ui = ui;
            
            console.log("=========================================");
            console.log("ğŸ¯ ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…!");
            console.log("ğŸ“± Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:");
            console.log("   - Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ ÙŠÙˆÙ…ÙŠ ÙƒØ§Ù…Ù„ (24 Ø³Ø§Ø¹Ø©)");
            console.log("   - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù‡Ø§Ù…");
            console.log("   - Ø±Ø³Ø§Ø¦Ù„ ØªØ­ÙÙŠØ²ÙŠØ© Ù…Ø®ØµØµØ© Ù„Ù„ÙØ¦Ø§Øª");
            console.log("   - 4 Ø«ÙŠÙ…Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©");
            console.log("   - Ù†Ø¸Ø§Ù… Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ø¹ Ù…Ø­Ø±Ø± Ù†Øµ Ù…ØªÙ‚Ø¯Ù…");
            console.log("   - Ù†Ø¸Ø§Ù… ØªØ­ÙƒÙ… Ø²Ù…Ù†ÙŠ Ù…ØªÙƒØ§Ù…Ù„");
            console.log("=========================================");
            
        } catch (error) {
            console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:", error);
            alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚. ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©.');
        }
    });
    </script>
</body>
</html>
